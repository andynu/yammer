{"id":"yam-005","title":"we should remember the screen x/y position on drag, and launch at that position next time. we should also check that those positions are stil in the bounds of the screen in case of resolution change","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-05T18:11:44.833589846-05:00","updated_at":"2025-12-05T18:49:10.544197772-05:00","closed_at":"2025-12-05T18:49:10.544197772-05:00"}
{"id":"yam-042","title":"Fix pointy black corner in top left of UI (other corners have rounded bevels)","description":"The UI window has rounded bevels on three corners but displays a small pointy black rectangle in the top left corner. Should be visually consistent with the other corners.","status":"closed","priority":2,"issue_type":"bug","created_at":"2025-12-07T16:54:24.156520073-05:00","updated_at":"2025-12-07T17:06:06.362355355-05:00","closed_at":"2025-12-07T17:06:06.362355355-05:00"}
{"id":"yam-0a2","title":"Auto-hide window after dictation completes","description":"After dictation finishes processing and text is output (typed or copied to clipboard), automatically hide the window. This creates a seamless workflow: activate with hotkey, speak, window disappears after output.","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-06T14:22:10.121524664-05:00","updated_at":"2025-12-06T14:29:12.41930634-05:00","closed_at":"2025-12-06T14:29:12.41930634-05:00"}
{"id":"yam-0bw","title":"Add --gui flag to launch Tauri window from CLI","description":"yammer --gui should launch the Tauri GUI app. This provides a unified entry point - CLI for headless/testing, GUI for daily use.","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-12-05T16:59:51.16300587-05:00","updated_at":"2025-12-05T17:04:54.573878994-05:00","closed_at":"2025-12-05T17:04:54.573878994-05:00"}
{"id":"yam-0ie","title":"Rewrite yammer-stt: KyutaiTranscriber replacing Whisper","status":"closed","priority":1,"issue_type":"task","owner":"andynu@gmail.com","created_at":"2026-02-17T18:16:31.748468525-05:00","created_by":"Andy","updated_at":"2026-02-17T18:33:46.441862328-05:00","closed_at":"2026-02-17T18:33:46.441862328-05:00","close_reason":"Closed"}
{"id":"yam-0k9","title":"config file override for llm cleanup prompt","description":"Allow users to override the LLM correction prompt via config file.\n\n## Current State\n- `CORRECTION_PROMPT` is hardcoded in `yammer-llm/src/corrector.rs:58-66`\n- Uses few-shot Input:/Output: format\n- Default model is TinyLlama-1.1B-Chat (instruct-tuned)\n\n## Design\nAdd `[llm]` section to config with optional `correction_prompt` field:\n\n```toml\n[llm]\n# Full prompt template. {text} is replaced with transcription.\n# Omit to use built-in default.\ncorrection_prompt = \"\"\"\nCorrect this dictation for code comments. Keep technical terms. Fix only obvious errors:\n{text}\n\"\"\"\n```\n\n## Behavior\n- `correction_prompt` is optional - omit to use built-in default\n- `{text}` placeholder replaced with transcribed text\n- If no `{text}` placeholder, append text at end\n- Model outputs until newline, take that as result\n\n## Use Cases\n- Different styles (formal/casual)\n- Programming/code dictation\n- Domain-specific terminology (medical, legal)\n- Aggressiveness of changes\n- Different prompt formats for different models (few-shot, instruction, chat)\n\n## Implementation\n1. Add `LlmConfig` struct to `yammer-core/src/config.rs` with `correction_prompt: Option\u003cString\u003e`\n2. Add `[llm]` section to `Config`\n3. Modify `Corrector::correct()` to accept prompt from config, fall back to built-in default\n4. Handle `{text}` substitution","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-05T16:14:16.043088756-05:00","updated_at":"2025-12-05T16:40:28.264241778-05:00","closed_at":"2025-12-05T16:40:28.264241778-05:00"}
{"id":"yam-0rs","title":"Add feature to clear/cancel last recording","description":"Add ability to cancel/discard the last dictation before it gets typed. User wants a way to undo if they misspoke.","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-06T13:39:30.970371056-05:00","updated_at":"2025-12-06T13:49:54.976352008-05:00","closed_at":"2025-12-06T13:49:54.976352008-05:00"}
{"id":"yam-1a9","title":"GUI: Add way to dismiss/close the window (keyboard shortcut or button)","description":"After launching yammer gui, there's no obvious way to close it. Need Escape key, close button, or tray icon with quit option.","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-12-05T17:06:32.328124046-05:00","updated_at":"2025-12-05T18:29:40.447851901-05:00","closed_at":"2025-12-05T18:29:40.447851901-05:00"}
{"id":"yam-1m1","title":"Add unit tests for yammer-output crate","description":"yammer-output/src/lib.rs has no tests. Need coverage for:\n- TextOutput::output() with both Type and Clipboard methods\n- Error handling when xdotool/xclip not available\n- Edge cases (empty text, special characters, long text)\n\nMay need to mock external process calls.","status":"closed","priority":2,"issue_type":"chore","created_at":"2025-12-06T20:22:39.796676589-05:00","updated_at":"2025-12-06T21:29:11.132031237-05:00","closed_at":"2025-12-06T21:29:11.132031237-05:00"}
{"id":"yam-1q0","title":"Singleton IPC not triggering on second invocation via GNOME shortcut","description":"When yammer is already running and user presses Ctrl+Alt+Space (GNOME shortcut calling 'yammer gui --toggle'), the second instance should signal the running instance via DBus to show window and toggle dictation. Currently:\n- First invocation works (launches yammer)\n- Second invocation does nothing (should show window + toggle)\n\nThe tauri-plugin-single-instance should detect the running instance and emit the callback, but it's not triggering. Need to verify DBus communication is working and that the callback properly shows the window without stealing focus.","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-12-06T00:47:42.467725214-05:00","updated_at":"2025-12-06T12:10:08.571629987-05:00","closed_at":"2025-12-06T12:10:08.571629987-05:00"}
{"id":"yam-2y8","title":"GUI: Transcribed text not visible in window","description":"Transcription results are not being displayed in the GUI window. Either text isn't reaching the frontend or rendering is broken.","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-12-05T17:05:11.536297006-05:00","updated_at":"2025-12-05T17:47:32.503868026-05:00","closed_at":"2025-12-05T17:47:32.503868026-05:00"}
{"id":"yam-2yt","title":"Fix runtime panic in dictate command (block_on in async context)","description":"The dictate command panics with 'Cannot start a runtime from within a runtime' because model auto-detection code at line 560 calls block_on() inside an async function. Fix by replacing .find() closure with manual loop using .await.","status":"closed","priority":0,"issue_type":"bug","created_at":"2025-12-04T19:09:48.472834519-05:00","updated_at":"2025-12-04T19:10:53.353824387-05:00","closed_at":"2025-12-04T19:10:53.353824387-05:00"}
{"id":"yam-36f","title":"Add system tray icon for Linux/Ubuntu GNOME","description":"Research and implement system tray integration for Yammer on Linux.\n\nRequirements:\n- Show icon in Ubuntu GNOME system tray\n- Right-click menu with options: Show Window, Toggle Recording, Quit\n- Left-click to show/focus window\n- Indicate recording state (maybe icon change or color)\n\nResearch needed:\n- Tauri v2 tray support: https://v2.tauri.app/learn/system-tray/\n- GNOME AppIndicator/StatusNotifierItem support\n- Any Linux-specific considerations for tray icons\n- Icon format requirements (SVG vs PNG, sizes)","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-05T23:28:19.439268558-05:00","updated_at":"2025-12-05T23:49:03.84836424-05:00","closed_at":"2025-12-05T23:49:03.84836424-05:00"}
{"id":"yam-3c8","title":"Add resample_to_kyutai unit tests in yammer-audio","status":"closed","priority":2,"issue_type":"task","owner":"andynu@gmail.com","created_at":"2026-02-17T18:42:41.112873451-05:00","created_by":"Andy","updated_at":"2026-02-17T18:44:15.033757581-05:00","closed_at":"2026-02-17T18:44:15.033757581-05:00","close_reason":"Added 3 resample_to_kyutai tests: 48k→24k, 44100→24k, passthrough 24k"}
{"id":"yam-3gx","title":"Write onboard guide for yammer-audio crate","description":"Create a comprehensive onboarding guide for developers new to the yammer-audio crate.\n\n## Target Audience\n- Developers with Rust experience but no background in:\n  - Linux audio systems (ALSA, PulseAudio, PipeWire)\n  - Audio capture and processing\n  - Voice Activity Detection (VAD)\n  - Audio resampling\n\n## Guide Structure\n\n### 1. Conceptual Background\n- What is audio capture and why it matters for dictation\n- Linux audio stack overview (ALSA → PulseAudio/PipeWire → cpal)\n- Audio fundamentals: sample rates, channels, bit depth, formats\n- What is VAD and why it's needed (filter noise, detect speech boundaries)\n\n### 2. Library Choices and Rationale\n- Why cpal for cross-platform audio capture\n- Why not rodio, portaudio, or direct ALSA bindings\n- Why custom VAD vs external library (silero-vad, webrtc-vad)\n- hound for WAV file writing\n\n### 3. Architecture Overview\n- AudioCapture: device enumeration, stream setup, callback handling\n- VadProcessor: RMS-based speech detection, state machine\n- Resampler: converting to Whisper's 16kHz requirement\n- How these components compose in the dictation pipeline\n\n### 4. Code Walkthrough\n- Key data structures (AudioChunk, CaptureHandle)\n- The capture callback pattern\n- VAD state transitions\n- Error handling patterns\n\n### 5. Common Tasks\n- How to list available audio devices\n- How to capture audio for a duration\n- How to detect speech boundaries\n- How to save audio to WAV for debugging\n\n## Output\nA markdown document at yammer-audio/ONBOARDING.md that a new developer can read to understand the crate from concept to implementation.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-07T10:10:07.81708038-05:00","updated_at":"2025-12-07T10:33:42.699824965-05:00","closed_at":"2025-12-07T10:33:42.699824965-05:00","dependencies":[{"issue_id":"yam-3gx","depends_on_id":"yam-6ff","type":"blocks","created_at":"2025-12-07T10:10:17.331905655-05:00","created_by":"andy","metadata":"{}"}]}
{"id":"yam-3o5","title":"Fix: transcript shows 'Loading models...' after init completes","description":"The transcript area kept showing 'Loading models...' after initialization completed successfully because state.transcript wasn't cleared. Fixed by clearing the transcript after successful init so the placeholder 'Click record or press Ctrl+Shift+Space' is shown.","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-12-05T23:52:50.946353477-05:00","updated_at":"2025-12-05T23:53:09.258200402-05:00","closed_at":"2025-12-05T23:53:09.258200402-05:00"}
{"id":"yam-3sb","title":"Write onboard guide for yammer-core crate","description":"Create a comprehensive onboarding guide for developers new to the yammer-core crate.\n\n## Target Audience\n- Developers with Rust experience but no background in:\n  - Application configuration management\n  - XDG directory standards\n  - TOML configuration files\n  - Model download/verification patterns\n\n## Guide Structure\n\n### 1. Conceptual Background\n- Role of a core/shared crate in workspace architecture\n- XDG Base Directory Specification (config, data, cache)\n- Configuration file formats (TOML vs YAML vs JSON)\n- Model file management for ML applications\n\n### 2. Library Choices and Rationale\n- Why TOML (human-readable, Rust-native serde support)\n- dirs crate for cross-platform directory paths\n- serde for serialization\n- reqwest + sha256 for secure downloads\n\n### 3. Architecture Overview\n- Config struct: hierarchical configuration model\n- Sub-configs: HotkeyConfig, ModelsConfig, AudioConfig, etc.\n- Model path resolution (name → filename → full path)\n- Download verification with SHA256\n\n### 4. Code Walkthrough\n- Config loading with defaults\n- Model path resolution logic\n- Save/load patterns\n- Error types and handling\n- Window position persistence\n\n### 5. Common Tasks\n- How to add a new config option\n- How to support a new model\n- How to implement download verification\n- How to handle config migration\n\n## Output\nA markdown document at yammer-core/ONBOARDING.md that a new developer can read to understand the crate from concept to implementation.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-07T10:12:06.465927492-05:00","updated_at":"2025-12-07T10:41:56.852868049-05:00","closed_at":"2025-12-07T10:41:56.852868049-05:00","dependencies":[{"issue_id":"yam-3sb","depends_on_id":"yam-6ff","type":"blocks","created_at":"2025-12-07T10:12:14.870243188-05:00","created_by":"andy","metadata":"{}"}]}
{"id":"yam-412","title":"Add custom icon for system tray","status":"closed","priority":3,"issue_type":"task","created_at":"2025-12-06T00:19:24.813642133-05:00","updated_at":"2025-12-06T14:18:33.094669771-05:00","closed_at":"2025-12-06T14:18:33.094669771-05:00"}
{"id":"yam-4ck","title":"Consider upgrading to larger Whisper model for better accuracy","description":"Current whisper-base.en model produces mediocre transcription quality. Consider whisper-small.en or whisper-medium.en for better accuracy (tradeoff: more VRAM, slower inference).","status":"closed","priority":2,"issue_type":"chore","created_at":"2025-12-05T16:59:45.982822064-05:00","updated_at":"2025-12-05T18:42:05.430772873-05:00","closed_at":"2025-12-05T18:42:05.430772873-05:00"}
{"id":"yam-4xb","title":"Build fails: duplicate CUDA symbols between whisper-rs-sys and llama_cpp_sys","description":"When building yammer-cli with CUDA enabled for both whisper-rs and llama_cpp, the linker fails with duplicate symbol errors. Both libraries bundle their own copy of ggml's CUDA backend (ggml-cuda.cu, mmq.cu, norm.cu, etc.), causing conflicts like 'duplicate symbol: ggml_cuda_error'. Options: (1) disable CUDA for one library, (2) use separate binaries, (3) find compatible ggml versions.","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-12-05T10:27:52.806689049-05:00","updated_at":"2025-12-05T16:33:12.866551968-05:00","closed_at":"2025-12-05T16:33:12.866551968-05:00"}
{"id":"yam-52x","title":"GUI: No visual feedback during dictation","description":"The GUI shows no indication of listening/recording/processing state. Need status indicator like CLI has (audio meter, state display).","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-12-05T17:05:06.319782303-05:00","updated_at":"2025-12-05T17:13:15.035054878-05:00","closed_at":"2025-12-05T17:13:15.035054878-05:00"}
{"id":"yam-69r","title":"Pre-allocate audio buffer in pipeline listen_blocking","description":"In yammer-app/src-tauri/src/pipeline.rs:429, the listen_blocking function uses a Vec that grows dynamically:\n\nlet mut all_samples: Vec\u003cf32\u003e = Vec::new();\n// ...\nall_samples.extend_from_slice(\u0026chunk);\n\n## Problem\nVec will reallocate multiple times as it grows during recording.\nWith 30-second max recording at 48kHz: 1,440,000 samples = ~5.5MB\nThis causes multiple reallocation+copy operations during recording.\n\n## Suggested Fix\nPre-allocate based on max recording duration:\nlet max_samples = input_sample_rate as usize * 30; // 30 second max\nlet mut all_samples: Vec\u003cf32\u003e = Vec::with_capacity(max_samples);\n\n## Impact\n- Eliminates reallocation during recording\n- Smoother audio capture (less GC-like pauses)\n- Memory usage same at max, lower for short recordings\n\n## Risk\nLow - straightforward change","status":"closed","priority":3,"issue_type":"chore","created_at":"2025-12-07T11:13:10.516574097-05:00","updated_at":"2025-12-07T11:25:22.011969286-05:00","closed_at":"2025-12-07T11:25:22.011969286-05:00","comments":[{"id":29,"issue_id":"yam-69r","author":"andy","text":"Commit 5d878bc: Pre-allocated audio buffer with capacity for 30 seconds of audio at the detected sample rate.","created_at":"2025-12-07T16:25:13Z"}]}
{"id":"yam-6cd","title":"Analyze codebase for refinement opportunities","description":"Systematic analysis of the yammer codebase to identify opportunities for refinement - making the implementation tighter, faster, and simpler.\n\n## Guiding Principle\nThe feature set is complete. We are NOT adding features. We are making what exists as good as it can be.\n\n## Scope\nReview all crates for:\n\n### Performance Refinement\n- Unnecessary allocations (Vec, String, Box where not needed)\n- Redundant clones that could be references\n- Hot paths with avoidable overhead\n- Lock contention or duration that could be reduced\n- Blocking operations that delay responsiveness\n- Memory usage that could be reduced\n\n### Simplification\n- Abstractions that don't earn their complexity\n- Generics where concrete types would suffice\n- Trait bounds that are overly complex\n- Builder patterns where simple constructors work\n- Options/Results that are always Some/Ok\n- Dead code paths or unreachable branches\n\n### Tightening\n- Dependencies that could be removed or made optional\n- Feature flags that aren't needed\n- Duplicate logic that could be unified\n- Error types that could be consolidated\n- Config options that overlap or conflict\n\n### Code Reduction\n- Functions that do too much (split) or too little (inline)\n- Wrapper types that add no value\n- Intermediate variables that obscure flow\n- Match arms that could be combined\n- Verbose error handling that could be streamlined\n\n## Deliverables\n- List of specific refinement opportunities with file:line references\n- Estimated impact (latency reduction, memory savings, code reduction)\n- Risk assessment for each change\n- Create follow-up tickets for significant improvements\n\n## Constraints\n- DO NOT add features\n- DO NOT add abstraction layers\n- Prefer removal over addition\n- Measure before and after where possible","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-07T10:31:13.385353087-05:00","updated_at":"2025-12-07T11:13:35.527839551-05:00","closed_at":"2025-12-07T11:13:35.527839551-05:00","comments":[{"id":20,"issue_id":"yam-6cd","author":"andy","text":"Starting refinement analysis. Will examine codebase for: unnecessary allocations, redundant clones, abstractions that don't earn complexity, dead code, dependencies that could be removed, and code that could be simplified.","created_at":"2025-12-07T16:10:20Z"},{"id":21,"issue_id":"yam-6cd","author":"andy","text":"## Refinement Analysis Complete\n\nOverall assessment: The codebase is lean with minimal unnecessary complexity. Dependencies are appropriate for the features provided. Found several refinement opportunities.\n\n### Performance Refinements\n\n1. **yammer-audio/src/capture.rs:238-248** - Allocations in hot path\n   - For-loop in audio callback creates new Vec on every frame\n   - Could reuse buffer or use iterator chain to avoid allocation\n   - Impact: Low-Medium (audio callbacks are frequent, ~50ms intervals)\n   - Risk: Low\n\n2. **yammer-audio/src/resample.rs:71-72** - f32-\u003ef64-\u003ef32 conversion\n   - `let input_f64: Vec\u003cf64\u003e = input.iter().map(|\u0026s| s as f64).collect();`\n   - rubato requires f64, so conversion is necessary\n   - But we allocate new Vec, could potentially use buffer pool\n   - Impact: Low (only during transcription, not real-time)\n   - Risk: Low\n\n3. **yammer-stt/src/transcriber.rs:177-188** - Cow usage is good\n   - Already using std::borrow::Cow to avoid allocation when samples \u003e= min\n   - This is optimal\n\n4. **yammer-app/src-tauri/src/pipeline.rs:429-437** - Continuous buffer growth\n   - `all_samples.extend_from_slice(\u0026chunk)` in listen_blocking\n   - Could pre-allocate based on expected duration (sample_rate * 30 for 30s max)\n   - Impact: Low-Medium (Vec reallocation during recording)\n   - Risk: Low\n\n### Simplification Opportunities\n\n5. **yammer-audio/src/capture.rs** - Three separate build_stream functions\n   - build_stream\u003cT\u003e, build_stream_i16, build_stream_u16\n   - Could potentially unify with trait bounds, but cpal sample conversion is tricky\n   - Impact: Low (code works, minor duplication)\n   - Risk: Medium (refactor could introduce bugs)\n   - Recommend: Leave as-is, duplication is justified\n\n6. **yammer-core/src/download.rs:236-249** - SHA prefix comparison\n   - Bidirectional prefix check for partial SHA support\n   - Actually useful for flexibility (can store truncated hashes)\n   - Recommend: Leave as-is, add doc comment explaining intent\n\n7. **yammer-cli/src/main.rs:684-731, 803-838** - Duplicated model discovery logic\n   - transcribe_file and dictate both have similar model auto-detection code\n   - Also correct_text has similar pattern for LLM\n   - Could extract to helper function\n   - Impact: Low (CLI is not performance-critical)\n   - Risk: Low\n\n### Tightening Opportunities\n\n8. **yammer-audio** - ringbuf dependency unused\n   - Cargo.toml lists ringbuf but grep shows no usage in the crate\n   - Could remove dependency\n   - Impact: Low (smaller dependency tree, faster compile)\n   - Risk: None\n\n9. **yammer-core** - anyhow dependency potentially unused\n   - Core uses thiserror for errors, anyhow may not be needed\n   - Need to verify no anyhow usage\n   - Impact: Low\n   - Risk: None\n\n10. **yammer-stt/yammer-llm** - yammer-core dependency may be unnecessary\n    - These crates define their own error types\n    - May only be pulling in yammer-core for nothing\n    - Need to verify\n    - Impact: Low\n    - Risk: None\n\n### Code Reduction Opportunities\n\n11. **yammer-core/src/config.rs** - Tests could use fixtures\n    - Multiple tests create similar Config structs\n    - Minor, not worth changing\n    \n12. **yammer-app/src-tauri/src/lib.rs:395-433, 439-489** - Window show logic duplication\n    - Already noted in clarity analysis (yam-yx0 or related)\n    - Could reduce ~20 lines\n\n### Dependencies Analysis\n\nAll dependencies appear justified:\n- whisper-rs: Required for STT\n- llama_cpp: Required for LLM\n- cpal: Required for audio capture\n- rubato: Required for resampling\n- hound: Required for WAV I/O\n- tauri: Required for GUI\n- dirs: Required for config/model paths\n- serde/toml: Required for config serialization\n- reqwest/sha2/futures-util: Required for model downloads\n\nPotentially removable:\n- ringbuf in yammer-audio (verify unused)\n- anyhow in yammer-core (verify unused)","created_at":"2025-12-07T16:12:17Z"},{"id":22,"issue_id":"yam-6cd","author":"andy","text":"Created follow-up tickets for refinement opportunities:\n- yam-boq: Remove unused ringbuf dependency (P3)\n- yam-f6m: Remove unused anyhow dependency from yammer-core (P3)\n- yam-kdy: Remove unused yammer-core deps from yammer-stt/yammer-llm (P3)\n- yam-69r: Pre-allocate audio buffer in pipeline listen_blocking (P3)\n- yam-bhl: Extract model discovery helper in yammer-cli (P3)","created_at":"2025-12-07T16:13:25Z"}]}
{"id":"yam-6ff","title":"onboard guides per crate","description":"presume that someone being onboarded to any of these crates has no background in linux sound, llm tooling, whisper, etc. we want to make a clear educational path for anyone to start learning about an individual crate from concept through library choice to technical architecture in each of these. please make a detailed issue per crate to do appropriate research and write a clear guide for each","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-06T21:42:49.120084955-05:00","updated_at":"2025-12-07T10:13:02.302957928-05:00","closed_at":"2025-12-07T10:13:02.302957928-05:00"}
{"id":"yam-6fw","title":"Remove unused _window_height parameter from validated_window_position","description":"In yammer-core/src/config.rs:316-336, the validated_window_position function takes _window_height as a parameter but never uses it.\n\n## Problem\n- Parameter is declared but unused (prefixed with _ to suppress warning)\n- Unclear if this is intentional for future use or an oversight\n- Creates API surface that doesn't match implementation\n\n## Suggested Fix\nEither:\n1. Remove the parameter if not needed\n2. Add a comment explaining why it's reserved for future use\n3. Actually use it in the validation logic (e.g., ensure window height fits on screen)\n\n## Files\n- yammer-core/src/config.rs:316-336","status":"closed","priority":3,"issue_type":"chore","created_at":"2025-12-07T11:09:33.704028892-05:00","updated_at":"2025-12-07T11:24:11.658760359-05:00","closed_at":"2025-12-07T11:24:11.658760359-05:00","comments":[{"id":28,"issue_id":"yam-6fw","author":"andy","text":"Commit 580c25e: Removed unused window_height parameter from validated_window_position across Rust, JavaScript, and documentation.","created_at":"2025-12-07T16:24:02Z"}]}
{"id":"yam-6oz","title":"Research recording duration limits - audio gets cut off","description":"User reports audio getting cut off during longer recordings. Research: Whisper model limitations? VAD silence detection? Audio buffer size? Memory constraints?","status":"closed","priority":2,"issue_type":"chore","created_at":"2025-12-06T13:39:36.157251746-05:00","updated_at":"2025-12-06T13:52:37.114933821-05:00","closed_at":"2025-12-06T13:52:37.114933821-05:00","comments":[{"id":14,"issue_id":"yam-6oz","author":"andy","text":"Research findings on recording duration limits:\n\n## Current Limits in Yammer\n- Pipeline has a 30-second safety timeout in listen_blocking() at line 408 of pipeline.rs\n- This is an arbitrary safeguard, not a hard Whisper limitation\n\n## Whisper Model Facts\n- Whisper uses 30-second processing windows internally\n- whisper.cpp itself has NO hard-coded maximum duration\n- Long recordings (10+ minutes) can cause issues:\n  - Looping/repetitive text\n  - [BLANK_AUDIO] hallucinations\n  - Memory pressure with CUDA\n\n## Potential Issues Causing \"Audio Cut Off\"\n1. The 30-second timeout in pipeline.rs is the MOST LIKELY culprit\n2. Memory allocation for long recordings in Vec\u003cf32\u003e\n3. Audio buffer overflow in cpal capture\n\n## Recommendations\n1. Increase timeout from 30s to 60-120s for longer dictation\n2. Add configurable max_duration in config.toml\n3. Consider chunked processing for very long recordings\n4. For dictation (not transcription of files), 60-120s should be plenty\n\nSources:\n- https://github.com/ggerganov/whisper.cpp/issues/2586\n- https://github.com/ggml-org/whisper.cpp/discussions/2225","created_at":"2025-12-06T18:51:22Z"}]}
{"id":"yam-70y","title":"Change in-app dictation shortcut from Ctrl+Space to Super+H","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-12-06T12:10:34.730797577-05:00","updated_at":"2025-12-06T12:11:56.16914588-05:00","closed_at":"2025-12-06T12:11:56.16914588-05:00"}
{"id":"yam-710","title":"Show window without stealing focus from active application","description":"When Yammer window appears (via hotkey or other trigger), it should NOT steal \nkeyboard focus from the currently active application.\n\nWhy this matters:\n- User is typing in an editor/browser/etc\n- They trigger dictation with global hotkey\n- Yammer window appears but focus stays in editor\n- Dictated text gets typed into the editor, not Yammer\n\nImplementation notes:\n- Tauri window config: set focused: false when showing\n- May need platform-specific handling for Linux/X11/Wayland\n- Related to global hotkey feature (yam-dnj)\n\nReferences:\n- Tauri window API: show() vs setFocus()\n- X11: _NET_WM_STATE hints\n- Wayland: may have limitations on focus control","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-05T23:34:23.100586669-05:00","updated_at":"2025-12-05T23:47:02.571727137-05:00","closed_at":"2025-12-05T23:47:02.571727137-05:00"}
{"id":"yam-71b","title":"Update Cargo.toml: swap whisper-rs for moshi/candle deps","status":"closed","priority":1,"issue_type":"task","owner":"andynu@gmail.com","created_at":"2026-02-17T18:15:49.163301804-05:00","created_by":"Andy","updated_at":"2026-02-17T18:33:46.429426885-05:00","closed_at":"2026-02-17T18:33:46.429426885-05:00","close_reason":"Closed"}
{"id":"yam-7kk","title":"Write onboard guide for yammer-app crate","description":"Create a comprehensive onboarding guide for developers new to the yammer-app crate.\n\n## Target Audience\n- Developers with Rust experience but no background in:\n  - Tauri framework for desktop apps\n  - Web frontend integration (TypeScript/Svelte)\n  - Global hotkeys and system tray\n  - Async Rust and tokio runtime\n\n## Guide Structure\n\n### 1. Conceptual Background\n- What is Tauri and why it's used (vs Electron, GTK, etc.)\n- How Tauri apps work (Rust backend + Web frontend)\n- IPC between Rust commands and JavaScript\n- System integration: hotkeys, tray, single-instance\n\n### 2. Library Choices and Rationale\n- Why Tauri (small binary, native performance, Rust safety)\n- Why Svelte for frontend (simplicity, reactivity)\n- tauri-plugin-global-shortcut for hotkeys\n- tauri-plugin-clipboard-manager for clipboard\n- Single-instance plugin for preventing duplicates\n\n### 3. Architecture Overview\n- DictationPipeline: orchestrates audio→STT→LLM→output\n- AppState: shared state across Tauri commands\n- Event system: pipeline events to frontend\n- Lock management and async coordination\n- System tray menu and interactions\n\n### 4. Code Walkthrough\n- Tauri command handlers (initialize, start, stop, toggle)\n- Pipeline state machine\n- Event forwarding to frontend\n- Global hotkey handler\n- Single-instance argument handling\n\n### 5. Common Tasks\n- How to add a new Tauri command\n- How to add a new frontend event\n- How to modify the pipeline flow\n- How to debug IPC issues\n\n## Output\nA markdown document at yammer-app/ONBOARDING.md that a new developer can read to understand the crate from concept to implementation.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-07T10:12:36.147565531-05:00","updated_at":"2025-12-07T10:44:26.333159482-05:00","closed_at":"2025-12-07T10:44:26.333159482-05:00","dependencies":[{"issue_id":"yam-7kk","depends_on_id":"yam-6ff","type":"blocks","created_at":"2025-12-07T10:12:46.309540157-05:00","created_by":"andy","metadata":"{}"}]}
{"id":"yam-8d6","title":"Write onboard guide for yammer-output crate","description":"Create a comprehensive onboarding guide for developers new to the yammer-output crate.\n\n## Target Audience\n- Developers with Rust experience but no background in:\n  - Linux input simulation\n  - X11/Wayland display servers\n  - xdotool and input automation\n  - Clipboard management on Linux\n\n## Guide Structure\n\n### 1. Conceptual Background\n- How desktop input systems work (X11, Wayland)\n- What is input simulation and why it's needed for dictation\n- Challenges: modifier keys, focus, app compatibility\n- Clipboard vs keystroke injection trade-offs\n\n### 2. Library Choices and Rationale\n- Why xdotool (X11 input simulation)\n- Limitations on Wayland\n- Why not enigo, rdev, or other Rust libraries\n- xclip for clipboard operations\n- The choice to shell out vs native bindings\n\n### 3. Architecture Overview\n- TextOutput struct: method selection, delay config\n- OutputMethod enum: Type vs Clipboard\n- type_text: xdotool keystroke simulation\n- paste_text: clipboard + Ctrl+V approach\n- Error handling and recovery\n\n### 4. Code Walkthrough\n- xdotool command construction\n- --clearmodifiers flag importance\n- --delay parameter and timing\n- Clipboard write with xclip\n- Process spawning patterns\n\n### 5. Common Tasks\n- How to type text into focused app\n- How to use clipboard paste mode\n- How to handle special characters\n- How to debug output failures\n\n## Output\nA markdown document at yammer-output/ONBOARDING.md that a new developer can read to understand the crate from concept to implementation.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-07T10:11:37.57842248-05:00","updated_at":"2025-12-07T10:39:47.357899514-05:00","closed_at":"2025-12-07T10:39:47.357899514-05:00","dependencies":[{"issue_id":"yam-8d6","depends_on_id":"yam-6ff","type":"blocks","created_at":"2025-12-07T10:11:46.274915158-05:00","created_by":"andy","metadata":"{}"}]}
{"id":"yam-8hl","title":"Simplify list-devices output to show only useful devices","description":"Current list-devices output shows hundreds of device configurations (every channel count x sample format combination). User feedback: overwhelming and hard to parse. Should show simplified view with just: default device, pulse/pipewire devices, hardware devices (hw:CARD). Add --verbose flag for full details.","status":"closed","priority":1,"issue_type":"chore","created_at":"2025-12-04T19:09:55.003232828-05:00","updated_at":"2025-12-04T19:15:31.316135671-05:00","closed_at":"2025-12-04T19:15:31.316135671-05:00"}
{"id":"yam-8hx","title":"Fix spectrograph/waveform display - very faint blips","description":"Audio waveform visualization shows only tiny blips instead of proper waveform. Likely a gain/scaling issue in how audio levels are mapped to the display.","status":"closed","priority":2,"issue_type":"bug","created_at":"2025-12-06T13:39:41.35645576-05:00","updated_at":"2025-12-06T13:58:11.705651925-05:00","closed_at":"2025-12-06T13:58:11.705651925-05:00"}
{"id":"yam-8vy","title":"Make xdotool type delay configurable","description":"xdotool type uses --delay 12 (12ms between keystrokes). For a 100 character output, this adds 1.2 seconds of delay.\n\nShould make this configurable:\n- Add typing_delay_ms to config\n- Default to 0 or very low value (xdotool default is 12ms)\n- Lower values may fail in some apps, higher values for compatibility\n\nAlso consider using clipboard/paste mode by default for long text since it's instant.","status":"closed","priority":3,"issue_type":"feature","created_at":"2025-12-06T21:33:07.146029817-05:00","updated_at":"2025-12-06T21:48:53.246323224-05:00","closed_at":"2025-12-06T21:48:53.246323224-05:00"}
{"id":"yam-9eg","title":"Dictation stops listening prematurely while user still talking","description":"User reports dictation stops listening while still talking, without pressing any buttons.\n\nRoot causes to investigate:\n1. **30-second hard limit** (pipeline.rs:555) - recording auto-stops after 30s\n2. **VAD silence detection** - 15 frames (~750ms) of silence triggers speech-end\n3. **VAD threshold** - if speech RMS drops below 0.01, treated as silence\n\nMost likely culprit: VAD silence detection triggering on natural speech pauses or softer speech.","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-12-08T12:01:46.181489252-05:00","updated_at":"2025-12-08T12:09:18.475049218-05:00","closed_at":"2025-12-08T12:09:18.475049218-05:00"}
{"id":"yam-9ii","title":"Add unit tests for yammer-audio capture module","description":"yammer-audio/src/capture.rs (481 lines) has no tests. Need coverage for:\n- AudioCapture initialization\n- Device enumeration\n- Sample rate handling\n- Error conditions\n\nWill need to mock cpal or use integration tests with actual audio hardware.","status":"closed","priority":2,"issue_type":"chore","created_at":"2025-12-06T20:22:44.990377428-05:00","updated_at":"2025-12-06T21:30:51.138430654-05:00","closed_at":"2025-12-06T21:30:51.138430654-05:00"}
{"id":"yam-9oa","title":"Add GitHub Actions workflow for Linux builds","description":"Set up GitHub Actions CI/CD to build yammer for various Linux platforms. Should produce:\n- .deb package for Debian/Ubuntu\n- .rpm package for Fedora/RHEL\n- AppImage for universal Linux support\n\nTauri already supports these bundle types locally (as shown by local build output). Need to:\n1. Create .github/workflows/build.yml\n2. Set up build matrix for different Linux architectures (amd64, potentially arm64)\n3. Publish artifacts on releases\n4. Consider using Tauri's official GitHub Action for builds","status":"closed","priority":3,"issue_type":"feature","created_at":"2025-12-06T13:50:00.163728768-05:00","updated_at":"2025-12-06T14:20:15.820095554-05:00","closed_at":"2025-12-06T14:20:15.820095554-05:00"}
{"id":"yam-a4e","title":"list-devices: suppress ALSA noise and show human-readable device names","status":"in_progress","priority":1,"issue_type":"bug","owner":"andynu@gmail.com","created_at":"2026-02-06T09:48:01.52432716-05:00","created_by":"Andy","updated_at":"2026-02-06T16:57:44.114713547-05:00"}
{"id":"yam-a7r","title":"GUI: No audio capture - app not listening to microphone","description":"The Tauri GUI app doesn't appear to be capturing audio. Need to verify audio pipeline is starting and VAD is processing input.","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-12-05T17:05:01.118897025-05:00","updated_at":"2025-12-05T17:12:05.894634358-05:00","closed_at":"2025-12-05T17:12:05.894634358-05:00"}
{"id":"yam-avi","title":"Analyze unsafe Send/Sync impl in DictationPipeline","description":"pipeline.rs:587-588 has manual unsafe impl Send/Sync for DictationPipeline. Need to:\n1. Understand why this was necessary (whisper-rs? llama_cpp internals?)\n2. Audit whether the struct actually satisfies Send/Sync requirements\n3. Document the safety invariants or find a safe alternative\n4. Check for potential data races under concurrent access\n\nThis bypasses Rust's thread-safety guarantees and could mask real bugs.","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-12-06T20:22:29.384921226-05:00","updated_at":"2025-12-06T21:24:33.677525623-05:00","closed_at":"2025-12-06T21:24:33.677525623-05:00"}
{"id":"yam-b4l","title":"Use slice pattern or .first() instead of direct [0] indexing","description":"In yammer-cli/src/main.rs:359, `to_download[0]` is accessed without compiler-enforced bounds checking:\n```rust\nmanager.model_path(\u0026to_download[0]).parent().unwrap()\n```\n\nThe code logic ensures to_download isn't empty, but this could break during refactoring.\n\nFix options:\n1. Use slice pattern matching:\n```rust\nif let [first, ..] = to_download.as_slice() {\n    println!(\"...\", manager.model_path(first).parent().unwrap());\n}\n```\n\n2. Use .first() with expect:\n```rust\nlet first = to_download.first().expect(\"to_download verified non-empty above\");\n```\n\nReference: https://corrode.dev/blog/defensive-programming/","status":"closed","priority":2,"issue_type":"chore","created_at":"2025-12-05T23:19:11.629868514-05:00","updated_at":"2025-12-05T23:39:02.224092589-05:00","closed_at":"2025-12-05T23:39:02.224092589-05:00"}
{"id":"yam-b5c","title":"Word wrap transcript text in UI","description":"Currently transcript text is on a single line with text-overflow: ellipsis.\nLong transcriptions get cut off.\n\nDesired behavior:\n- Allow transcript text to wrap to multiple lines\n- Expand the transcript area height to accommodate (maybe with max-height and scroll)\n- Keep the compact look for short text\n\nCurrent CSS in src/styles.css uses white-space: nowrap on .transcript-text","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-05T23:33:31.033783051-05:00","updated_at":"2025-12-05T23:43:31.271097852-05:00","closed_at":"2025-12-05T23:43:31.271097852-05:00"}
{"id":"yam-b6p","title":"UI errors/warnings not logged to console","description":"User saw model loading error in UI but no corresponding log output in console. All user-facing errors/warnings should also be logged for debugging. Check pipeline error emission path and ensure tracing::warn/error calls accompany UI error messages.","status":"closed","priority":2,"issue_type":"bug","created_at":"2025-12-05T19:58:49.483941846-05:00","updated_at":"2025-12-05T21:17:39.585925044-05:00","closed_at":"2025-12-05T21:17:39.585925044-05:00"}
{"id":"yam-bhl","title":"Extract model discovery helper in yammer-cli","description":"In yammer-cli/src/main.rs, the model auto-detection code is duplicated across:\n- transcribe_file (lines 684-714)\n- dictate (lines 803-838)\n- correct_text (lines 977-1007)\n\nAll three have similar patterns:\n1. Create DownloadManager\n2. Get registry\n3. Loop through models of target type\n4. Check status, find Ready model\n5. Return path or error\n\n## Suggested Fix\nExtract helper function:\nasync fn find_downloaded_model(model_type: ModelType) -\u003e Result\u003cPathBuf, String\u003e\n\n## Impact\n- Reduces ~60 lines of duplicated code\n- Single place to modify model discovery logic\n- Easier to add features like model preference/priority\n\n## Risk\nLow - straightforward refactor","status":"closed","priority":3,"issue_type":"chore","created_at":"2025-12-07T11:13:15.674967729-05:00","updated_at":"2025-12-07T11:27:46.543928872-05:00","closed_at":"2025-12-07T11:27:46.543928872-05:00","comments":[{"id":30,"issue_id":"yam-bhl","author":"andy","text":"Commit 119cff2: Extracted find_downloaded_model helper function that consolidates model auto-detection logic. Reduces code by 42 lines (87 deleted, 45 added).","created_at":"2025-12-07T16:27:35Z"}]}
{"id":"yam-bma","title":"Replace catch-all match on VadState with exhaustive pattern","description":"In yammer-cli/src/main.rs:848, the match on VadState uses a catch-all `_ =\u003e` that maps Silence and MaybeSpeech to Listening. If new VadState variants are added, they'll silently default to Listening.\n\nFix: Replace with exhaustive match:\n```rust\ncurrent_state = match vad_state {\n    VadState::Speech | VadState::MaybeSilence =\u003e DictateState::Recording,\n    VadState::Silence | VadState::MaybeSpeech =\u003e DictateState::Listening,\n}\n```\n\nReference: https://corrode.dev/blog/defensive-programming/","status":"closed","priority":2,"issue_type":"chore","created_at":"2025-12-05T23:19:06.427371923-05:00","updated_at":"2025-12-05T23:38:22.100869638-05:00","closed_at":"2025-12-05T23:38:22.100869638-05:00"}
{"id":"yam-bnq","title":"Write onboard guide for yammer-stt crate","description":"Create a comprehensive onboarding guide for developers new to the yammer-stt crate.\n\n## Target Audience\n- Developers with Rust experience but no background in:\n  - Speech-to-text technology\n  - Whisper model architecture\n  - GGML/GGUF model formats\n  - Audio processing for ML models\n\n## Guide Structure\n\n### 1. Conceptual Background\n- What is speech-to-text and how it works at a high level\n- Overview of Whisper model (OpenAI)\n- Understanding model sizes (tiny, base, small, medium, large)\n- Trade-offs: accuracy vs speed vs memory\n- What GGML/GGUF formats are and why they matter\n\n### 2. Library Choices and Rationale\n- Why whisper-rs (Rust bindings for whisper.cpp)\n- Why not other options (vosk, DeepSpeech, cloud APIs)\n- whisper.cpp's advantages (CPU inference, quantization, performance)\n- The role of OpenBLAS/MKL for CPU acceleration\n\n### 3. Architecture Overview\n- Transcriber struct: model loading, context management\n- Transcript and Segment structures\n- How audio flows from samples to text\n- Hallucination filtering (why Whisper produces artifacts)\n\n### 4. Code Walkthrough\n- Model loading and initialization\n- WhisperParams configuration\n- Transcription process\n- Segment iteration and text extraction\n- Common hallucination patterns and filters\n\n### 5. Common Tasks\n- How to load different model sizes\n- How to transcribe audio samples\n- How to handle long audio (chunking)\n- How to debug transcription issues\n\n## Output\nA markdown document at yammer-stt/ONBOARDING.md that a new developer can read to understand the crate from concept to implementation.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-07T10:10:38.538427914-05:00","updated_at":"2025-12-07T10:35:50.848788994-05:00","closed_at":"2025-12-07T10:35:50.848788994-05:00","dependencies":[{"issue_id":"yam-bnq","depends_on_id":"yam-6ff","type":"blocks","created_at":"2025-12-07T10:10:46.850032339-05:00","created_by":"andy","metadata":"{}"}]}
{"id":"yam-boq","title":"Remove unused ringbuf dependency from yammer-audio","description":"The ringbuf dependency is listed in yammer-audio/Cargo.toml but is not used in any source file.\n\n## Verification\ngrep -r \"ringbuf\" yammer-audio/src/ returns no results\n\n## Action\nRemove from Cargo.toml:\n- ringbuf.workspace = true\n\n## Impact\n- Smaller dependency tree\n- Faster compile times\n- No functionality change","status":"closed","priority":3,"issue_type":"chore","created_at":"2025-12-07T11:12:41.350460298-05:00","updated_at":"2025-12-07T11:18:46.20526562-05:00","closed_at":"2025-12-07T11:18:46.20526562-05:00","comments":[{"id":25,"issue_id":"yam-boq","author":"andy","text":"Commit 113f375: Removed ringbuf.workspace = true from yammer-audio/Cargo.toml","created_at":"2025-12-07T16:18:36Z"}]}
{"id":"yam-c81","title":"Yammer: Linux Dictation App","description":"# Linux Dictation Application\n\nA dictation app for Linux (Ubuntu/X11) with:\n- Speech-to-text via whisper-rs (whisper.cpp)\n- LLM-based text correction via llama_cpp-rs\n- Floating UI with waveform visualization (Tauri)\n- Chromeless, rounded-edge window design\n\n## Architecture\nPure Rust stack:\n- **STT**: whisper-rs (whisper.cpp bindings)\n- **LLM**: llama_cpp-rs (llama.cpp bindings)\n- **Audio**: cpal + rubato for resampling\n- **UI**: Tauri with transparent windows\n- **Output**: xdotool for text injection\n\n## Key Design Decisions\n1. X11 only (simplifies hotkeys, window management, text injection)\n2. CUDA support for GPU inference\n3. Model weights downloaded at runtime, not bundled in repo\n4. Phased implementation proving each building block independently\n\n## Phases\n1. Project scaffolding and model management\n2. Core audio pipeline (capture, resample, VAD)\n3. Speech-to-text integration\n4. LLM text correction\n5. Tauri UI with waveform\n6. Integration and polish","status":"closed","priority":0,"issue_type":"epic","created_at":"2025-12-03T11:57:26.993833325-05:00","updated_at":"2025-12-05T16:13:41.43888919-05:00","closed_at":"2025-12-05T16:13:41.43888919-05:00"}
{"id":"yam-c81.1","title":"Phase 1: Project Scaffolding \u0026 Model Management","description":"Set up the Rust project structure and model download infrastructure.\n\n## Goals\n- Initialize Rust workspace with proper structure\n- Create model management system that downloads weights on first run\n- Establish shared configuration for model paths\n\n## Why First\nModels are large (500MB-4GB) and must not be in the repo.\nAll subsequent phases depend on having models available.","status":"closed","priority":0,"issue_type":"epic","created_at":"2025-12-03T11:57:56.062720595-05:00","updated_at":"2025-12-03T12:27:17.40563153-05:00","closed_at":"2025-12-03T12:27:17.40563153-05:00","dependencies":[{"issue_id":"yam-c81.1","depends_on_id":"yam-c81","type":"parent-child","created_at":"2025-12-03T11:57:56.063777659-05:00","created_by":"andy","metadata":"{}"}]}
{"id":"yam-c81.1.1","title":"Initialize Rust workspace structure","description":"## Context\nNeed a clean Rust workspace structure for the multi-crate project.\n\n## Implementation Details\nCreate workspace with:\n- `yammer-core/` - shared types, config, model management\n- `yammer-audio/` - cpal capture, resampling, VAD\n- `yammer-stt/` - whisper-rs integration\n- `yammer-llm/` - llama_cpp-rs integration\n- `yammer-cli/` - headless CLI for testing building blocks\n- `yammer-app/` - Tauri application (later phase)\n\n## Acceptance Criteria\n- [ ] Cargo.toml workspace with all crates\n- [ ] Each crate has minimal structure\n- [ ] `cargo build` succeeds\n- [ ] .gitignore excludes model files\n\n## Notes\nKeep dependencies minimal initially - add as needed per phase.","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-03T11:58:14.138355793-05:00","updated_at":"2025-12-03T12:21:12.978877968-05:00","closed_at":"2025-12-03T12:21:12.978877968-05:00","dependencies":[{"issue_id":"yam-c81.1.1","depends_on_id":"yam-c81.1","type":"parent-child","created_at":"2025-12-03T11:58:14.140278295-05:00","created_by":"andy","metadata":"{}"}]}
{"id":"yam-c81.1.2","title":"Implement model download manager","description":"## Context\nModels (Whisper ~150-500MB, LLM ~2-4GB) must be downloaded on first run.\nCannot bundle in repo due to size.\n\n## Implementation Details\nCreate `yammer-core` module that:\n1. Defines model registry (URLs, checksums, sizes)\n2. Checks ~/.local/share/yammer/models/ for existing models\n3. Downloads missing models with progress reporting\n4. Verifies SHA256 checksums after download\n\nModels to support:\n- whisper-base.en (ggml format, ~142MB)\n- whisper-small.en (ggml format, ~466MB)\n- phi-3-mini or qwen2-1.5b (GGUF format, ~2GB)\n\n## Acceptance Criteria\n- [ ] Model registry with URLs and checksums\n- [ ] Download with progress callback\n- [ ] Checksum verification\n- [ ] CLI command: `yammer-cli download-models`\n- [ ] Skip already-downloaded models\n\n## Testing\nRun `yammer-cli download-models --dry-run` shows what would download.\nRun `yammer-cli download-models` actually downloads.\n\n## Notes\nUse reqwest for HTTP, sha2 for checksums.\nConsider HuggingFace Hub URLs for models.","status":"closed","priority":0,"issue_type":"feature","created_at":"2025-12-03T11:58:42.502935256-05:00","updated_at":"2025-12-03T12:26:39.72783074-05:00","closed_at":"2025-12-03T12:26:39.72783074-05:00","dependencies":[{"issue_id":"yam-c81.1.2","depends_on_id":"yam-c81.1","type":"parent-child","created_at":"2025-12-03T11:58:42.504072642-05:00","created_by":"andy","metadata":"{}"},{"issue_id":"yam-c81.1.2","depends_on_id":"yam-c81.1.1","type":"blocks","created_at":"2025-12-03T11:58:42.505224825-05:00","created_by":"andy","metadata":"{}"}]}
{"id":"yam-c81.2","title":"Phase 2: Audio Pipeline","description":"Prove out audio capture, resampling, and voice activity detection.\n\n## Goals\n- Capture microphone audio via cpal\n- Resample to 16kHz mono for Whisper\n- Implement basic VAD to detect speech vs silence\n- Save/playback test recordings\n\n## Why Phase 2\nAudio pipeline must work reliably before STT integration.\nVAD prevents processing silence and knows when utterances end.","status":"closed","priority":0,"issue_type":"epic","created_at":"2025-12-03T11:58:55.589211921-05:00","updated_at":"2025-12-03T12:38:53.283847596-05:00","closed_at":"2025-12-03T12:38:53.283847596-05:00","dependencies":[{"issue_id":"yam-c81.2","depends_on_id":"yam-c81","type":"parent-child","created_at":"2025-12-03T11:58:55.590274297-05:00","created_by":"andy","metadata":"{}"},{"issue_id":"yam-c81.2","depends_on_id":"yam-c81.1","type":"blocks","created_at":"2025-12-03T11:58:55.591462334-05:00","created_by":"andy","metadata":"{}"}]}
{"id":"yam-c81.2.1","title":"Implement microphone capture with cpal","description":"## Context\nFirst step in audio pipeline - capture raw audio from default microphone.\n\n## Implementation Details\nIn `yammer-audio`:\n1. Initialize cpal with default host (ALSA on Linux)\n2. Get default input device\n3. Configure stream with callback\n4. Collect samples into ring buffer or channel\n\nKey considerations:\n- Handle different sample formats (f32, i16)\n- Handle different channel counts (mono, stereo → convert to mono)\n- Request smaller buffer sizes for lower latency (~10ms at 48kHz = 512 samples)\n\n## Acceptance Criteria\n- [ ] List available input devices\n- [ ] Capture audio from default device\n- [ ] Handle stream errors gracefully\n- [ ] CLI command: `yammer-cli record --duration 5s --output test.wav`\n- [ ] Captured audio plays back correctly\n\n## Testing\nRecord 5 seconds, play it back with aplay/paplay.\n\n## Notes\nBuild dependency: `sudo apt install libasound2-dev`","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-03T11:59:14.611366524-05:00","updated_at":"2025-12-03T12:32:05.600782884-05:00","closed_at":"2025-12-03T12:32:05.600782884-05:00","dependencies":[{"issue_id":"yam-c81.2.1","depends_on_id":"yam-c81.2","type":"parent-child","created_at":"2025-12-03T11:59:14.612677836-05:00","created_by":"andy","metadata":"{}"},{"issue_id":"yam-c81.2.1","depends_on_id":"yam-c81.1","type":"blocks","created_at":"2025-12-03T12:09:52.543495277-05:00","created_by":"andy","metadata":"{}"}]}
{"id":"yam-c81.2.2","title":"Implement audio resampling to 16kHz","description":"## Context\nWhisper requires 16kHz mono audio. Most mics capture at 44.1/48kHz.\n\n## Implementation Details\nUse rubato crate for high-quality resampling:\n1. Detect input sample rate from cpal config\n2. Create SincFixedIn resampler for real-time use\n3. Process audio chunks through resampler\n4. Output 16kHz mono f32 samples\n\nConfiguration for quality/latency tradeoff:\n- sinc_len: 256 (good quality)\n- oversampling_factor: 256\n- Linear interpolation (faster than cubic)\n\n## Acceptance Criteria\n- [ ] Resample 48kHz → 16kHz with rubato\n- [ ] Handle stereo → mono conversion\n- [ ] Process in real-time without buffer underruns\n- [ ] CLI command: `yammer-cli record --resample --output test_16k.wav`\n\n## Testing\nRecord at native rate and resampled, compare in Audacity.\nResampled audio should be 16kHz mono with no audible artifacts.\n\n## Notes\nrubato works with f64 internally, convert f32↔f64 at boundaries.","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-03T11:59:37.691045249-05:00","updated_at":"2025-12-03T12:35:08.638107403-05:00","closed_at":"2025-12-03T12:35:08.638107403-05:00","dependencies":[{"issue_id":"yam-c81.2.2","depends_on_id":"yam-c81.2","type":"parent-child","created_at":"2025-12-03T11:59:37.692159576-05:00","created_by":"andy","metadata":"{}"},{"issue_id":"yam-c81.2.2","depends_on_id":"yam-c81.2.1","type":"blocks","created_at":"2025-12-03T11:59:37.693130287-05:00","created_by":"andy","metadata":"{}"}]}
{"id":"yam-c81.2.3","title":"Implement Voice Activity Detection (VAD)","description":"## Context\nVAD detects speech vs silence, essential for:\n- Not processing dead air (wastes GPU)\n- Knowing when an utterance ends\n- Segmenting continuous audio into chunks\n\n## Implementation Details\nStart with simple energy-based VAD:\n1. Calculate RMS (root mean square) of audio frames\n2. Compare against threshold\n3. Track speech state with hysteresis (debounce)\n\n```rust\nfn is_speech(samples: \u0026[f32], threshold: f32) -\u003e bool {\n    let rms = (samples.iter().map(|s| s * s).sum::\u003cf32\u003e() / samples.len() as f32).sqrt();\n    rms \u003e threshold\n}\n```\n\nHysteresis parameters:\n- speech_start_frames: 3 (consecutive speech to trigger start)\n- speech_end_frames: 15 (consecutive silence to trigger end)\n- min_speech_duration_ms: 250 (ignore very short sounds)\n\n## Acceptance Criteria\n- [ ] Energy-based VAD with configurable threshold\n- [ ] Hysteresis to avoid flapping\n- [ ] CLI command: `yammer-cli vad-test` (shows speech/silence in real-time)\n- [ ] Segment audio into utterances\n\n## Testing\nRun vad-test, speak, see it detect speech. Silence shows \"quiet\".\nAdjust threshold via CLI flag until it works for your mic/environment.\n\n## Notes\nLater enhancement: Silero VAD (ONNX model) is more robust to noise,\nbut energy-based is simpler and sufficient for initial testing.","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-03T12:00:56.548675321-05:00","updated_at":"2025-12-03T12:38:25.812015751-05:00","closed_at":"2025-12-03T12:38:25.812015751-05:00","dependencies":[{"issue_id":"yam-c81.2.3","depends_on_id":"yam-c81.2","type":"parent-child","created_at":"2025-12-03T12:00:56.549667111-05:00","created_by":"andy","metadata":"{}"},{"issue_id":"yam-c81.2.3","depends_on_id":"yam-c81.2.2","type":"blocks","created_at":"2025-12-03T12:00:56.550702806-05:00","created_by":"andy","metadata":"{}"}]}
{"id":"yam-c81.3","title":"Phase 3: Speech-to-Text","description":"Prove out whisper-rs integration for speech-to-text.\n\n## Goals\n- Load Whisper model with whisper-rs\n- Transcribe audio files (batch mode)\n- Transcribe live audio chunks (streaming mode)\n- Validate CUDA acceleration works\n\n## Why Phase 3\nDepends on Phase 1 (models downloaded) and Phase 2 (audio pipeline ready).\nSTT is the core value proposition - must work reliably.","status":"closed","priority":0,"issue_type":"epic","created_at":"2025-12-03T12:01:42.494170745-05:00","updated_at":"2025-12-03T12:47:25.779638503-05:00","closed_at":"2025-12-03T12:47:25.779638503-05:00","dependencies":[{"issue_id":"yam-c81.3","depends_on_id":"yam-c81","type":"parent-child","created_at":"2025-12-03T12:01:42.4949374-05:00","created_by":"andy","metadata":"{}"},{"issue_id":"yam-c81.3","depends_on_id":"yam-c81.2","type":"blocks","created_at":"2025-12-03T12:01:42.495883136-05:00","created_by":"andy","metadata":"{}"},{"issue_id":"yam-c81.3","depends_on_id":"yam-c81.1","type":"blocks","created_at":"2025-12-03T12:01:42.496667739-05:00","created_by":"andy","metadata":"{}"}]}
{"id":"yam-c81.3.1","title":"Integrate whisper-rs for file transcription","description":"## Context\nFirst STT test - transcribe a .wav file to text.\nProves whisper-rs builds and runs before adding live audio.\n\n## Implementation Details\nIn `yammer-stt`:\n1. Load Whisper model from downloaded GGML file\n2. Load audio from WAV file (16kHz mono f32)\n3. Run transcription\n4. Return text segments with timestamps\n\n```rust\nlet ctx = WhisperContext::new_with_params(\n    model_path,\n    WhisperContextParameters::default()\n)?;\n\nlet params = FullParams::new(SamplingStrategy::Greedy { best_of: 1 });\nlet mut state = ctx.create_state()?;\nstate.full(params, \u0026audio_data)?;\n\nfor i in 0..state.full_n_segments()? {\n    let text = state.full_get_segment_text(i)?;\n    println!(\"{}\", text);\n}\n```\n\n## Acceptance Criteria\n- [ ] Load whisper-base.en model\n- [ ] Transcribe WAV file\n- [ ] CLI command: `yammer-cli transcribe test.wav`\n- [ ] Output includes timestamps and text\n- [ ] CUDA build works (optional flag)\n\n## Testing\nRecord yourself saying something known, transcribe, verify accuracy.\n\n## Notes\nCUDA build: `CUDA_ARCHITECTURES=86 cargo build --release --features cuda`\nCPU fallback should also work for testing.","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-03T12:02:03.633337805-05:00","updated_at":"2025-12-03T12:43:47.597844419-05:00","closed_at":"2025-12-03T12:43:47.597844419-05:00","dependencies":[{"issue_id":"yam-c81.3.1","depends_on_id":"yam-c81.3","type":"parent-child","created_at":"2025-12-03T12:02:03.63413764-05:00","created_by":"andy","metadata":"{}"},{"issue_id":"yam-c81.3.1","depends_on_id":"yam-c81.1.2","type":"blocks","created_at":"2025-12-03T12:09:57.614023141-05:00","created_by":"andy","metadata":"{}"}]}
{"id":"yam-c81.3.2","title":"Implement streaming transcription from live audio","description":"## Context\nReal dictation requires processing live audio, not just files.\nwhisper.cpp processes 30-second segments - we chunk accordingly.\n\n## Implementation Details\nStreaming architecture:\n1. Audio capture fills ring buffer continuously\n2. VAD detects speech segments\n3. When speech ends (or buffer hits ~5s), send chunk to Whisper\n4. Display partial results while capturing continues\n\nChunk timing considerations:\n- Too short (\u003c2s): Poor accuracy, too many API calls\n- Too long (\u003e10s): High latency before seeing results\n- Sweet spot: 3-5 seconds of speech per chunk\n\nThread architecture:\n- Audio thread: cpal callback fills buffer\n- VAD thread: monitors buffer, detects utterances\n- STT thread: processes complete utterances\n\n## Acceptance Criteria\n- [ ] Transcribe live microphone input\n- [ ] VAD triggers transcription on speech end\n- [ ] Results appear within ~1s of speaking\n- [ ] CLI command: `yammer-cli dictate` (speak, see text appear)\n- [ ] No buffer underruns or audio glitches\n\n## Testing\nRun `yammer-cli dictate`, speak naturally, verify text appears promptly.\nTry different speaking speeds, pauses between sentences.\n\n## Notes\nThis is the core dictation loop - everything else builds on this.","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-03T12:02:35.862024804-05:00","updated_at":"2025-12-03T12:47:05.758724371-05:00","closed_at":"2025-12-03T12:47:05.758724371-05:00","dependencies":[{"issue_id":"yam-c81.3.2","depends_on_id":"yam-c81.3","type":"parent-child","created_at":"2025-12-03T12:02:35.863575976-05:00","created_by":"andy","metadata":"{}"},{"issue_id":"yam-c81.3.2","depends_on_id":"yam-c81.3.1","type":"blocks","created_at":"2025-12-03T12:02:35.864649965-05:00","created_by":"andy","metadata":"{}"}]}
{"id":"yam-c81.4","title":"Phase 4: LLM Text Correction","description":"Prove out llama_cpp-rs for dictation text correction.\n\n## Goals\n- Load small LLM model\n- Design prompt for dictation correction\n- Test correction quality vs latency tradeoff\n- Validate VRAM usage when both models loaded\n\n## Why Phase 4\nCan be developed in parallel with Phase 3 (only needs Phase 1 models).\nLLM corrects common dictation errors:\n- Homophones (their/there/they're)\n- Punctuation insertion\n- Capitalization\n- Filler word removal","status":"closed","priority":0,"issue_type":"epic","created_at":"2025-12-03T12:02:51.064602525-05:00","updated_at":"2025-12-05T14:37:23.420071594-05:00","closed_at":"2025-12-05T14:37:23.420071594-05:00","dependencies":[{"issue_id":"yam-c81.4","depends_on_id":"yam-c81","type":"parent-child","created_at":"2025-12-03T12:02:51.06548955-05:00","created_by":"andy","metadata":"{}"},{"issue_id":"yam-c81.4","depends_on_id":"yam-c81.1","type":"blocks","created_at":"2025-12-03T12:02:51.066894824-05:00","created_by":"andy","metadata":"{}"}]}
{"id":"yam-c81.4.1","title":"Integrate llama_cpp-rs for text correction","description":"## Context\nSmall LLM fixes dictation errors that Whisper introduces.\nGoal: fast correction (~200ms) for real-time feel.\n\n## Implementation Details\nIn `yammer-llm`:\n1. Load small GGUF model (Phi-3-mini or Qwen2-1.5B)\n2. Design correction prompt\n3. Generate corrected text\n4. Parse response\n\nPrompt template:\n```\nFix any transcription errors in the following dictation.\nOnly fix obvious mistakes, don't rephrase.\nAdd punctuation and capitalization.\n\nInput: [raw whisper output]\nOutput:\n```\n\nModel selection considerations:\n- Phi-3-mini (3.8B): Higher quality, ~200ms/sentence on GPU\n- Qwen2-1.5B: Faster, ~100ms/sentence, slightly lower quality\n- Both fit in 8GB VRAM alongside Whisper small\n\n## Acceptance Criteria\n- [ ] Load GGUF model with llama_cpp-rs\n- [ ] CLI command: `yammer-cli correct \"their going too the store\"`\n- [ ] Output: \"They're going to the store.\"\n- [ ] Measure latency per correction\n- [ ] CUDA acceleration works\n\n## Testing\nFeed known-bad transcriptions, verify corrections are accurate.\nMeasure latency on typical sentence lengths (10-30 words).\n\n## Notes\nCorrection is optional - user can disable if latency is too high.\nConsider caching corrections for repeated phrases.","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-03T12:03:11.262209153-05:00","updated_at":"2025-12-04T19:43:36.887316825-05:00","closed_at":"2025-12-04T19:43:36.887316825-05:00","dependencies":[{"issue_id":"yam-c81.4.1","depends_on_id":"yam-c81.4","type":"parent-child","created_at":"2025-12-03T12:03:11.263414932-05:00","created_by":"andy","metadata":"{}"},{"issue_id":"yam-c81.4.1","depends_on_id":"yam-c81.1.2","type":"blocks","created_at":"2025-12-03T12:10:02.69166664-05:00","created_by":"andy","metadata":"{}"},{"issue_id":"yam-c81.4.1","depends_on_id":"yam-ijc","type":"blocks","created_at":"2025-12-03T13:55:05.78505376-05:00","created_by":"andy","metadata":"{}"}],"comments":[{"id":1,"issue_id":"yam-c81.4.1","author":"andy","text":"Code implemented and committed. Build blocked waiting for clang/libclang-dev installation (see yam-ijc). Once clang is installed, the build should succeed and the CLI command will be available.","created_at":"2025-12-03T18:55:56Z"}]}
{"id":"yam-c81.4.2","title":"Measure and optimize VRAM usage","description":"## Context\nBoth Whisper and LLM need GPU memory. Must verify they fit together.\n\n## Implementation Details\nTest configurations for 8GB VRAM:\n1. Both models loaded simultaneously\n2. Sequential loading (drop one before loading other)\n3. Different model sizes/quantizations\n\nExpected VRAM usage:\n- Whisper base.en: ~142 MB\n- Whisper small.en: ~466 MB\n- LLM 3B Q4_K_M: ~2 GB\n- KV cache (2048 ctx): ~0.5-1 GB\n- CUDA overhead: ~400 MB\n\n## Acceptance Criteria\n- [ ] Measure actual VRAM usage with nvidia-smi\n- [ ] Document working model combinations for 8GB GPU\n- [ ] Implement sequential loading fallback if needed\n- [ ] CLI command: `yammer-cli gpu-info` shows available/used VRAM\n\n## Testing\nLoad both models, run inference, monitor nvidia-smi.\nTest with different model size combinations.\n\n## Notes\nIf both don't fit, implement hot-swapping:\ntranscribe → drop whisper → load LLM → correct → drop LLM → load whisper","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-03T12:03:29.24262512-05:00","updated_at":"2025-12-05T14:36:13.673539844-05:00","closed_at":"2025-12-05T14:36:13.673539844-05:00","dependencies":[{"issue_id":"yam-c81.4.2","depends_on_id":"yam-c81.4","type":"parent-child","created_at":"2025-12-03T12:03:29.243460627-05:00","created_by":"andy","metadata":"{}"},{"issue_id":"yam-c81.4.2","depends_on_id":"yam-c81.4.1","type":"blocks","created_at":"2025-12-03T12:03:29.244518137-05:00","created_by":"andy","metadata":"{}"},{"issue_id":"yam-c81.4.2","depends_on_id":"yam-c81.3.1","type":"blocks","created_at":"2025-12-03T12:03:29.245311512-05:00","created_by":"andy","metadata":"{}"}],"comments":[{"id":12,"issue_id":"yam-c81.4.2","author":"andy","text":"## Progress Update\n\n### Completed\n1. Added `gpu-info` CLI command that shows VRAM usage via nvidia-smi\n   - Shows per-GPU memory (total/used/free)\n   - Includes --watch flag for continuous monitoring\n   - Displays model size reference estimates\n\n### In Progress\n2. Enabled CUDA features for both whisper-rs and llama_cpp in Cargo.toml:\n   ```toml\n   whisper-rs = { version = \"0.14\", features = [\"cuda\"] }\n   llama_cpp = { version = \"0.3\", features = [\"cuda\"] }\n   ```\n\n### Not Yet Started\n3. Rebuild with CUDA and measure actual VRAM usage loading both models\n4. Document working model combinations for 8GB GPU\n5. Implement sequential loading fallback if needed\n\n### Code Changes (uncommitted)\n- yammer-cli/src/main.rs: Added GpuInfo command and gpu_info() function\n- Cargo.toml: Enabled cuda features for whisper-rs and llama_cpp\n\n### Next Steps\n1. Run `cargo build --release` to compile with CUDA\n2. Load Whisper model, measure VRAM\n3. Load LLM model, measure combined VRAM\n4. Test on different model size combinations\n5. Document findings in issue or README","created_at":"2025-12-05T00:57:47Z"},{"id":13,"issue_id":"yam-c81.4.2","author":"andy","text":"## VRAM Measurement Results (2025-12-05)\n\n### Current Configuration\n- Whisper: CUDA enabled (GPU 0)\n- LLM: CPU only (CUDA disabled due to yam-4xb duplicate symbol conflict)\n\n### Hardware\n- 2x NVIDIA RTX A4000 (16GB each)\n\n### Measured VRAM Usage\n**Whisper Tiny (English):**\n- Model size: 77.11 MB\n- Compute buffers: ~190 MB (conv, encode, cross, decode)\n- Total: ~270 MB VRAM\n\n### Acceptance Criteria Status\n- [x] Measure VRAM with nvidia-smi - done\n- [x] CLI gpu-info command - already implemented\n- [~] Document model combinations - partial (LLM CUDA blocked by yam-4xb)\n- [N/A] Sequential loading fallback - not needed; LLM runs on CPU\n\n### Conclusion\nWith 16GB GPUs, VRAM is not a constraint. Current config (Whisper GPU + LLM CPU) works well. When yam-4xb is resolved, both could run on GPU simultaneously with plenty of headroom.","created_at":"2025-12-05T19:36:03Z"}]}
{"id":"yam-c81.5","title":"Phase 5: Tauri UI","description":"Build the floating overlay UI with Tauri.\n\n## Goals\n- Chromeless transparent window with rounded corners\n- Real-time waveform visualization\n- Status indicators (listening, processing, idle)\n- Transcription display\n\n## Why Phase 5\nDepends on working audio pipeline (for waveform) and STT (for transcription).\nUI is presentation layer over proven building blocks.","status":"closed","priority":0,"issue_type":"epic","created_at":"2025-12-03T12:03:49.436718685-05:00","updated_at":"2025-12-04T18:30:31.6053957-05:00","closed_at":"2025-12-04T18:30:31.6053957-05:00","dependencies":[{"issue_id":"yam-c81.5","depends_on_id":"yam-c81","type":"parent-child","created_at":"2025-12-03T12:03:49.437925582-05:00","created_by":"andy","metadata":"{}"},{"issue_id":"yam-c81.5","depends_on_id":"yam-c81.3","type":"blocks","created_at":"2025-12-03T12:03:49.439448208-05:00","created_by":"andy","metadata":"{}"},{"issue_id":"yam-c81.5","depends_on_id":"yam-c81.2","type":"blocks","created_at":"2025-12-03T12:03:49.440437362-05:00","created_by":"andy","metadata":"{}"}]}
{"id":"yam-c81.5.1","title":"Create basic Tauri window with transparency","description":"## Context\nFirst UI task - get a chromeless transparent window working on X11.\n\n## Implementation Details\nIn `yammer-app`:\n1. Initialize Tauri with window config\n2. Configure for overlay appearance\n3. Add CSS-based rounded corners\n\ntauri.conf.json:\n```json\n{\n  \"windows\": [{\n    \"title\": \"Yammer\",\n    \"width\": 300,\n    \"height\": 100,\n    \"decorations\": false,\n    \"transparent\": true,\n    \"resizable\": false,\n    \"alwaysOnTop\": true,\n    \"skipTaskbar\": true\n  }]\n}\n```\n\nCSS:\n```css\nhtml, body { background: transparent; }\n.app-container {\n  background: rgba(30, 30, 30, 0.95);\n  border-radius: 16px;\n  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);\n}\n```\n\n## Acceptance Criteria\n- [ ] Window appears floating over other apps\n- [ ] Transparent background with rounded corners\n- [ ] No window decorations (title bar, borders)\n- [ ] Draggable via data-tauri-drag-region\n- [ ] Always-on-top works\n\n## Testing\nRun on X11 (GNOME on Xorg), verify visual appearance.\nDrag window, verify it moves smoothly.\n\n## Notes\nRequires X11 - won't work properly on Wayland.\nCheck with: echo $XDG_SESSION_TYPE","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-03T12:04:14.646468326-05:00","updated_at":"2025-12-04T18:18:39.208490948-05:00","closed_at":"2025-12-04T18:18:39.208490948-05:00","dependencies":[{"issue_id":"yam-c81.5.1","depends_on_id":"yam-c81.5","type":"parent-child","created_at":"2025-12-03T12:04:14.647408333-05:00","created_by":"andy","metadata":"{}"},{"issue_id":"yam-c81.5.1","depends_on_id":"yam-c81.2.3","type":"blocks","created_at":"2025-12-03T12:10:07.768353817-05:00","created_by":"andy","metadata":"{}"}],"comments":[{"id":2,"issue_id":"yam-c81.5.1","author":"andy","text":"Commit e46dc5b: Created initial Tauri app structure with transparent window configuration, rounded corners, status indicators, and draggable interface. Now testing build process to verify functionality.","created_at":"2025-12-04T23:10:30Z"},{"id":3,"issue_id":"yam-c81.5.1","author":"andy","text":"Commit d9b29c2: Added Tauri backend to workspace. Verification complete:\n- Window configuration has decorations: false, transparent: true, alwaysOnTop: true, skipTaskbar: true ✓\n- HTML has data-tauri-drag-region on app-container ✓\n- CSS implements rounded corners (border-radius: 16px) and semi-transparent background (rgba(30,30,30,0.95)) ✓\n- Status indicators with multiple states (idle, listening, processing, error) ✓\n- Tauri backend compiles successfully with cargo check ✓\n- Running on X11 as required (XDG_SESSION_TYPE=x11) ✓\n\nAll acceptance criteria met. Ready for visual testing by user.","created_at":"2025-12-04T23:18:30Z"}]}
{"id":"yam-c81.5.2","title":"Implement real-time waveform visualization","description":"## Context\nVisual feedback while speaking - waveform shows audio is being captured.\n\n## Implementation Details\nTwo approaches:\n\nOption A: Web Audio API (capture in browser)\n- Use navigator.mediaDevices.getUserMedia\n- AnalyserNode for frequency/time data\n- Canvas for rendering\n\nOption B: Rust audio → Tauri events\n- Audio captured in Rust (cpal)\n- Emit samples to frontend via app.emit_all()\n- Canvas renders received samples\n\nOption B is preferred (audio already captured in Rust for Whisper).\n\nFrontend (Canvas):\n```javascript\nlisten('audio-samples', (event) =\u003e {\n  const samples = event.payload;\n  drawWaveform(samples);\n});\n\nfunction drawWaveform(samples) {\n  // Draw bars or line graph\n}\n```\n\n## Acceptance Criteria\n- [ ] Waveform updates in real-time while speaking\n- [ ] Smooth 30-60fps rendering\n- [ ] Visual feedback when VAD detects speech\n- [ ] Scales to window size\n\n## Testing\nSpeak into mic, verify waveform responds.\nWave should be active during speech, flat during silence.\n\n## Notes\nConsider WebGL for better performance if Canvas is too slow.\nCould use wavesurfer.js library for styled visualizations.","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-03T12:04:46.777186788-05:00","updated_at":"2025-12-04T18:21:25.3094651-05:00","closed_at":"2025-12-04T18:21:25.3094651-05:00","dependencies":[{"issue_id":"yam-c81.5.2","depends_on_id":"yam-c81.5","type":"parent-child","created_at":"2025-12-03T12:04:46.77828417-05:00","created_by":"andy","metadata":"{}"},{"issue_id":"yam-c81.5.2","depends_on_id":"yam-c81.5.1","type":"blocks","created_at":"2025-12-03T12:04:46.779499393-05:00","created_by":"andy","metadata":"{}"}],"comments":[{"id":4,"issue_id":"yam-c81.5.2","author":"andy","text":"Commit 266d547: Implemented waveform visualization with:\n- Canvas-based rendering with 40 bars\n- Color gradient based on amplitude\n- Event-driven updates from Tauri backend (listens to 'audio-samples')\n- Auto-decay animation (20fps) when not listening\n- Test command (simulate_audio) for demo purposes\n- Backend compiles successfully\n\nAcceptance criteria met:\n✓ Waveform updates in real-time (event-driven, processes incoming samples)\n✓ Smooth rendering (decay at 20fps, updates on new data)\n✓ Visual feedback (amplitude-based coloring, bar heights)\n✓ Scales to window size (fixed 268x40 canvas fits window)\n\nReady for integration with real audio from yammer-audio capture.","created_at":"2025-12-04T23:21:15Z"}]}
{"id":"yam-c81.5.3","title":"Add status indicators and transcription display","description":"## Context\nUser needs to know app state and see transcription results.\n\n## Implementation Details\nUI States:\n1. **Idle** - waiting for hotkey, dimmed appearance\n2. **Listening** - capturing audio, waveform active, green indicator\n3. **Processing** - sent to Whisper, spinner/pulse animation\n4. **Correcting** - LLM processing, different color indicator\n5. **Done** - text ready, briefly show then copy/type\n\nState machine in Rust backend, emit state changes to frontend.\n\nTranscription display:\n- Show partial results as they come in\n- Final result highlighted differently\n- Option to show corrections (strikethrough original)\n\n## Acceptance Criteria\n- [ ] Visual indicator for each state\n- [ ] Smooth state transitions (fade/animation)\n- [ ] Transcription text appears during/after processing\n- [ ] Clear visual when output is ready\n\n## Testing\nGo through all states, verify visual feedback is clear.\nTest rapid state changes (quick utterances).\n\n## Notes\nKeep UI minimal - it's an overlay, not main focus.\nUser's attention should be on their work, not the dictation UI.","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-03T12:05:07.118892134-05:00","updated_at":"2025-12-04T18:29:24.905848191-05:00","closed_at":"2025-12-04T18:29:24.905848191-05:00","dependencies":[{"issue_id":"yam-c81.5.3","depends_on_id":"yam-c81.5","type":"parent-child","created_at":"2025-12-03T12:05:07.120128328-05:00","created_by":"andy","metadata":"{}"},{"issue_id":"yam-c81.5.3","depends_on_id":"yam-c81.5.2","type":"blocks","created_at":"2025-12-03T12:05:07.121174387-05:00","created_by":"andy","metadata":"{}"}],"comments":[{"id":5,"issue_id":"yam-c81.5.3","author":"andy","text":"Commit ea481ea: Completed status indicators and transcription display with:\n\nStatus indicators (all 6 states):\n✓ Idle - gray, normal size\n✓ Listening - green pulsing, scaled up\n✓ Processing - orange fast pulse, scaled up\n✓ Correcting - blue medium pulse, scaled up\n✓ Done - green solid, scaled up\n✓ Error - red solid, scaled up\n\nTranscription display:\n✓ Placeholder text when empty\n✓ Partial results (italic, 70% opacity)\n✓ Final results (full opacity)\n✓ Smooth transitions between states\n\nAcceptance criteria met:\n✓ Visual indicator for each state (6 states implemented)\n✓ Smooth state transitions (CSS transitions on color, opacity, transform)\n✓ Transcription text appears with partial/final distinction\n✓ Clear visual when output is ready (done state, full opacity text)\n\nTest functions:\n- testStates() cycles through all states with sample text\n- setYammerState() exposed for backend integration","created_at":"2025-12-04T23:29:16Z"}]}
{"id":"yam-c81.6","title":"Phase 6: Integration \u0026 Polish","description":"Wire everything together into a complete dictation experience.\n\n## Goals\n- Global hotkey to start/stop dictation\n- Text output via xdotool (type into focused app)\n- Settings/configuration UI\n- Error handling and edge cases\n\n## Why Phase 6\nFinal integration after all building blocks proven.\nPolish and user experience improvements.","status":"closed","priority":0,"issue_type":"epic","created_at":"2025-12-03T12:05:37.678144676-05:00","updated_at":"2025-12-05T16:13:09.928294063-05:00","closed_at":"2025-12-05T16:13:09.928294063-05:00","dependencies":[{"issue_id":"yam-c81.6","depends_on_id":"yam-c81","type":"parent-child","created_at":"2025-12-03T12:05:37.679094045-05:00","created_by":"andy","metadata":"{}"},{"issue_id":"yam-c81.6","depends_on_id":"yam-c81.5","type":"blocks","created_at":"2025-12-03T12:05:37.680552818-05:00","created_by":"andy","metadata":"{}"},{"issue_id":"yam-c81.6","depends_on_id":"yam-c81.4","type":"blocks","created_at":"2025-12-03T12:05:37.681571917-05:00","created_by":"andy","metadata":"{}"}]}
{"id":"yam-c81.6.1","title":"Implement global hotkey for dictation toggle","description":"## Context\nUser presses hotkey anywhere → dictation starts/stops.\nX11 allows global key grabbing natively.\n\n## Implementation Details\nUse global-hotkey crate (from Tauri maintainers):\n\n```rust\nuse global_hotkey::{GlobalHotKeyManager, hotkey::{HotKey, Modifiers, Code}};\n\nlet manager = GlobalHotKeyManager::new()?;\nlet hotkey = HotKey::new(Some(Modifiers::SUPER), Code::KeyD);\nmanager.register(hotkey)?;\n\n// Listen via GlobalHotKeyEvent::receiver()\n```\n\nDefault hotkey: Super+D (configurable)\nBehavior:\n- Press once: Start listening\n- Press again: Stop and process\n- Or: Hold to record, release to process\n\n## Acceptance Criteria\n- [ ] Global hotkey works from any application\n- [ ] Configurable key combination\n- [ ] Works on X11 (required)\n- [ ] Graceful error if key already grabbed by another app\n\n## Testing\nFocus different apps (browser, terminal, editor), press hotkey.\nDictation should activate regardless of focused window.\n\n## Notes\nOnly works on X11. Wayland restricts global key grabs.\nDocument requirement for X11 in README.","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-03T12:05:57.672470149-05:00","updated_at":"2025-12-05T15:11:03.80893724-05:00","closed_at":"2025-12-05T15:11:03.80893724-05:00","dependencies":[{"issue_id":"yam-c81.6.1","depends_on_id":"yam-c81.6","type":"parent-child","created_at":"2025-12-03T12:05:57.673402329-05:00","created_by":"andy","metadata":"{}"},{"issue_id":"yam-c81.6.1","depends_on_id":"yam-c81.5.3","type":"blocks","created_at":"2025-12-03T12:10:12.845606747-05:00","created_by":"andy","metadata":"{}"}]}
{"id":"yam-c81.6.2","title":"Implement text output via xdotool","description":"## Context\nAfter dictation, type text into the user's focused application.\nxdotool simulates keyboard input on X11.\n\n## Implementation Details\nPrimary method - xdotool type:\n```rust\nfn type_text(text: \u0026str) -\u003e io::Result\u003c()\u003e {\n    Command::new(\"xdotool\")\n        .args([\"type\", \"--clearmodifiers\", \"--\", text])\n        .status()?;\n    Ok(())\n}\n```\n\nFallback - clipboard + paste:\n```rust\nfn paste_text(text: \u0026str) -\u003e io::Result\u003c()\u003e {\n    let mut clipboard = Clipboard::new()?;\n    clipboard.set_text(text)?;\n    Command::new(\"xdotool\")\n        .args([\"key\", \"ctrl+v\"])\n        .status()?;\n    Ok(())\n}\n```\n\nThe `--clearmodifiers` flag is important - it releases any held keys\n(like Super from the hotkey) before typing.\n\n## Acceptance Criteria\n- [ ] Type text into any focused application\n- [ ] Handle special characters correctly\n- [ ] Clipboard fallback for problematic apps\n- [ ] Works after hotkey release (modifiers cleared)\n\n## Testing\nDictate into: terminal, browser text field, code editor.\nVerify text appears correctly in all.\n\n## Notes\nRequires: `sudo apt install xdotool`\nSome apps (electron, some terminals) work better with clipboard paste.","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-03T12:06:33.900711398-05:00","updated_at":"2025-12-05T15:13:41.23695102-05:00","closed_at":"2025-12-05T15:13:41.23695102-05:00","dependencies":[{"issue_id":"yam-c81.6.2","depends_on_id":"yam-c81.6","type":"parent-child","created_at":"2025-12-03T12:06:33.901778395-05:00","created_by":"andy","metadata":"{}"},{"issue_id":"yam-c81.6.2","depends_on_id":"yam-c81.5.3","type":"blocks","created_at":"2025-12-03T12:10:17.926180677-05:00","created_by":"andy","metadata":"{}"}]}
{"id":"yam-c81.6.3","title":"Wire full dictation pipeline","description":"## Context\nConnect all building blocks into the complete dictation flow.\n\n## Implementation Details\nFull pipeline:\n1. User presses hotkey → UI shows \"Listening\"\n2. Audio capture starts, waveform animates\n3. VAD detects speech segments\n4. On speech end (or hotkey release):\n   - UI shows \"Processing\"\n   - Send audio to Whisper\n5. Whisper returns text:\n   - UI shows \"Correcting\" (if LLM enabled)\n   - Send to LLM for correction\n6. Final text ready:\n   - UI shows result briefly\n   - Type into focused app via xdotool\n   - UI returns to \"Idle\"\n\nError handling:\n- Whisper timeout → show error, don't output partial\n- LLM timeout → output uncorrected text\n- xdotool fails → copy to clipboard, notify user\n\n## Acceptance Criteria\n- [ ] Complete flow works end-to-end\n- [ ] Latency from speech-end to typed text \u003c 2s (GPU)\n- [ ] Graceful degradation on errors\n- [ ] Interruptible (hotkey cancels mid-process)\n\n## Testing\nDictate sentences of varying length, verify accuracy and latency.\nTest interruption mid-processing.\nTest with LLM correction on/off.\n\n## Notes\nThis is the integration task - all building blocks already work.\nFocus on glue code and error handling.","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-03T12:06:51.753570348-05:00","updated_at":"2025-12-05T16:03:14.991745157-05:00","closed_at":"2025-12-05T16:03:14.991745157-05:00","dependencies":[{"issue_id":"yam-c81.6.3","depends_on_id":"yam-c81.6","type":"parent-child","created_at":"2025-12-03T12:06:51.754473037-05:00","created_by":"andy","metadata":"{}"},{"issue_id":"yam-c81.6.3","depends_on_id":"yam-c81.6.1","type":"blocks","created_at":"2025-12-03T12:06:51.755663633-05:00","created_by":"andy","metadata":"{}"},{"issue_id":"yam-c81.6.3","depends_on_id":"yam-c81.6.2","type":"blocks","created_at":"2025-12-03T12:06:51.756527669-05:00","created_by":"andy","metadata":"{}"}]}
{"id":"yam-c81.6.4","title":"Add configuration and settings","description":"## Context\nUsers need to configure hotkey, model selection, correction toggle, etc.\n\n## Implementation Details\nConfig file: ~/.config/yammer/config.toml\n\n```toml\n[hotkey]\nmodifiers = [\"Super\"]\nkey = \"D\"\n\n[models]\nwhisper = \"small.en\"  # tiny, base, small, medium\nllm = \"phi-3-mini\"    # or \"none\" to disable correction\n\n[audio]\nvad_threshold = 0.02\nvad_speech_frames = 3\nvad_silence_frames = 15\n\n[output]\nmethod = \"type\"  # or \"clipboard\"\n```\n\nSettings UI (optional, lower priority):\n- In-app settings panel\n- Or: edit config file, restart app\n\n## Acceptance Criteria\n- [ ] Load config from TOML file\n- [ ] Sensible defaults if no config exists\n- [ ] CLI to print current config: `yammer --config`\n- [ ] Document all config options\n\n## Testing\nModify config, restart app, verify changes apply.\n\n## Notes\nKeep config simple initially. Add settings UI later if needed.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-03T12:07:18.075150406-05:00","updated_at":"2025-12-05T16:12:09.52246906-05:00","closed_at":"2025-12-05T16:12:09.52246906-05:00","dependencies":[{"issue_id":"yam-c81.6.4","depends_on_id":"yam-c81.6","type":"parent-child","created_at":"2025-12-03T12:07:18.075897965-05:00","created_by":"andy","metadata":"{}"},{"issue_id":"yam-c81.6.4","depends_on_id":"yam-c81.6.3","type":"blocks","created_at":"2025-12-03T12:07:18.077187187-05:00","created_by":"andy","metadata":"{}"}]}
{"id":"yam-cpy","title":"Filter out Whisper special tokens like [BLANK_AUDIO] from output","description":"When VAD triggers on noise/non-speech, Whisper returns special tokens like [BLANK_AUDIO]. These should be filtered out and not typed/pasted.","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-12-05T18:36:12.61312818-05:00","updated_at":"2025-12-05T18:38:34.091427478-05:00","closed_at":"2025-12-05T18:38:34.091427478-05:00"}
{"id":"yam-cw6","title":"press-hold to talk, release to paste","description":"We need to adopt the same ux as the tools i'm using in windows and macos. I know that linux is possibly more difficult in this regard, but it is of utmost importance that we get this to a keyboard shortcut that I can quickly hit, hold, talk, and release. our current keypress to start, keypress to stop (esp with it being to keys that are far apart ctrl-h, is too much friction). I really want to use the ctrl+start keys.","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-13T11:00:54.597581976-05:00","created_by":"andy","updated_at":"2026-01-13T11:01:53.03609621-05:00","closed_at":"2026-01-13T11:01:53.036099965-05:00"}
{"id":"yam-cx6","title":"Reduce lock contention in start_dictation command","description":"start_dictation() in lib.rs acquires 4 separate locks sequentially:\n1. is_running lock (check if running)\n2. pipeline lock (verify initialized) \n3. is_running lock again (mark as running)\n4. pipeline + cancel_handle + discard_handle locks (get handles)\n\nThis creates unnecessary overhead. Should:\n- Combine related operations under single lock acquisitions\n- Use RwLock where appropriate (is_running is mostly read)\n- Consider lock-free alternatives for atomic flags\n\nLower priority than audio pre-init since lock overhead is likely microseconds vs milliseconds.","status":"closed","priority":3,"issue_type":"feature","created_at":"2025-12-06T21:32:41.407076076-05:00","updated_at":"2025-12-06T21:45:49.790452626-05:00","closed_at":"2025-12-06T21:45:49.790452626-05:00"}
{"id":"yam-db3","title":"Filter Whisper hallucination keywords (inaudible, etc.)","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-12-06T13:27:58.47965959-05:00","updated_at":"2025-12-06T13:32:25.382183207-05:00","closed_at":"2025-12-06T13:32:25.382183207-05:00"}
{"id":"yam-dgv","title":"Refactor config_cmd to use enum instead of 3 boolean parameters","description":"In yammer-cli/src/main.rs:1107, config_cmd takes 3 boolean parameters:\n```rust\nfn config_cmd(show: bool, path: bool, init: bool) -\u003e Result\u003c()\u003e\n```\n\nThis is hard to read at call sites and error-prone.\n\nFix: Create an enum for the config action:\n```rust\nenum ConfigAction {\n    Show,\n    Path,\n    Init,\n}\n\nfn config_cmd(action: ConfigAction) -\u003e Result\u003c()\u003e\n```\n\nReference: https://corrode.dev/blog/defensive-programming/","status":"closed","priority":3,"issue_type":"chore","created_at":"2025-12-05T23:19:31.261557687-05:00","updated_at":"2025-12-05T23:41:13.529652027-05:00","closed_at":"2025-12-05T23:41:13.529652027-05:00"}
{"id":"yam-djh","title":"GUI: Window still not draggable","description":"Despite previous fix (yam-f8a), window dragging still doesn't work. Need to investigate Tauri v2 drag API and frameless window handling.","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-12-05T17:05:16.751109539-05:00","updated_at":"2025-12-05T18:02:17.55325334-05:00","closed_at":"2025-12-05T18:02:17.55325334-05:00"}
{"id":"yam-dnj","title":"Global hotkey to show window and start recording","description":"Currently Ctrl+Shift+Space toggles recording, but the window must already be visible.\n\nDesired behavior:\n- If window is hidden/minimized: show it AND start recording\n- If window is visible and not recording: start recording\n- If window is visible and recording: stop recording\n\nThis enables a true \"push-to-talk\" workflow from anywhere in the system.","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-05T23:28:56.731859932-05:00","updated_at":"2025-12-05T23:46:23.386042676-05:00","closed_at":"2025-12-05T23:46:23.386042676-05:00"}
{"id":"yam-dtw","title":"Minimize to tray on Escape instead of quit","description":"Currently pressing Escape or clicking X quits the application entirely.\n\nDesired behavior:\n- Escape: minimize/hide window to system tray\n- X button: same, minimize to tray\n- Quit only via tray menu or Ctrl+Q\n\nThis allows the app to stay resident for quick access via hotkey.\nRequires system tray (yam-36f) to be implemented first.","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-05T23:29:03.266260676-05:00","updated_at":"2025-12-05T23:50:02.094687529-05:00","closed_at":"2025-12-05T23:50:02.094687529-05:00","dependencies":[{"issue_id":"yam-dtw","depends_on_id":"yam-36f","type":"blocks","created_at":"2025-12-05T23:32:36.714908375-05:00","created_by":"andy","metadata":"{}"}]}
{"id":"yam-e28","title":"System tray icon not visible in GNOME","description":"## Bug\nThe system tray icon is not appearing in the GNOME shell system tray area.\n\n## Expected Behavior\n- Tray icon should appear in the system tray\n- Left-click on tray icon should show/hide the window\n- Right-click should show context menu (Show Window, Toggle Recording, Quit)\n\n## Current Behavior\nNo tray icon visible, despite Rust code creating TrayIconBuilder.\n\n## Notes\n- GNOME has limited AppIndicator support\n- May need libappindicator library installed\n- May require GNOME shell extension for AppIndicator support\n- The build warning mentions 'Can't detect any appindicator library'\n\n## How to Restore Window Without Tray\nCurrently must use:\n- `yammer gui --toggle` command\n- Ctrl+Space hotkey (if registered)","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-12-06T00:07:44.653151109-05:00","updated_at":"2025-12-06T00:27:25.969816161-05:00","closed_at":"2025-12-06T00:27:25.969816161-05:00"}
{"id":"yam-e40","title":"Add integration tests for dictation pipeline","description":"Current test coverage is limited to unit tests for VAD and hallucination filtering. Need integration tests for:\n- Full pipeline flow (mock audio -\u003e transcribe -\u003e correct -\u003e output)\n- Pipeline state transitions\n- Cancel/discard behavior\n- Error handling paths\n\nConsider test fixtures with pre-recorded audio samples.","status":"closed","priority":2,"issue_type":"chore","created_at":"2025-12-06T20:22:34.594355542-05:00","updated_at":"2025-12-06T21:27:57.483607158-05:00","closed_at":"2025-12-06T21:27:57.483607158-05:00","dependencies":[{"issue_id":"yam-e40","depends_on_id":"yam-avi","type":"blocks","created_at":"2025-12-06T20:35:07.191174953-05:00","created_by":"andy","metadata":"{}"}]}
{"id":"yam-e9b","title":"Singleton pattern for GNOME shell integration (Super+H toggle)","description":"## Context\nnerd-dictation is configured with GNOME shell shortcut `Super+H` calling a toggle script (`/home/andy/src/nerd-dictation/nerd-dictation-toggle.sh`) that:\n- Uses a PID file `/tmp/nerd-dictation.pid` to track if running\n- Kills existing process on toggle-off, starts new process on toggle-on\n\n## Desired Behavior\nAllow yammer to work with GNOME global keyboard shortcut by:\n1. Singleton pattern: if yammer GUI is already running, signal it instead of starting new instance\n2. When signaled, existing instance should show window and start recording\n\n## Implementation Options\n1. **PID file + Unix signals**: Simple, like nerd-dictation\n   - SIGUSR1 to toggle dictation\n   - Requires signal handler in Tauri app\n   \n2. **Unix socket IPC**: More flexible\n   - Can send specific commands (show, hide, toggle, start-recording)\n   - More reliable than signals\n   \n3. **DBus**: Desktop integration standard\n   - Best GNOME integration\n   - Can expose methods like ToggleDictation, Show, Hide\n   - Enables indicator/notification integration\n\n## Questions to Explore\n- Does Tauri have good signal handling or IPC support?\n- Is DBus overkill for this use case?\n- Should we keep the app-internal Ctrl+Space hotkey as well, or rely solely on system shortcut?","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-05T23:56:42.774443557-05:00","updated_at":"2025-12-06T00:05:47.366754914-05:00","closed_at":"2025-12-06T00:05:47.366754914-05:00"}
{"id":"yam-eia","title":"Auto-dismiss listening window after 5s of silence","description":"When the app activates on boot or by accidental button press, the listening window stays open indefinitely waiting for speech. Add a configurable silence timeout (default 5s) that auto-stops listening and hides the window when no speech is detected. Also add a startup grace period to the hotkey listener to prevent false activation during boot.","status":"closed","priority":1,"issue_type":"feature","owner":"andynu@gmail.com","created_at":"2026-02-11T17:56:49.72078887-05:00","created_by":"Andy","updated_at":"2026-02-11T18:07:31.966077063-05:00","closed_at":"2026-02-11T18:07:31.966077063-05:00","close_reason":"Implemented silence timeout and boot-time grace period"}
{"id":"yam-ex4","title":"Replace ..Default::default() with explicit field initialization in VadConfig","description":"In yammer-audio/src/vad.rs:81-84, VadConfig uses `..Default::default()`:\n```rust\nlet config = VadConfig {\n    speech_threshold: threshold,\n    ..Default::default()\n};\n```\n\nIf new fields are added to VadConfig, they'll silently receive defaults without compiler warning.\n\nFix: List all fields explicitly so the compiler warns when new fields are added.\n\nReference: https://corrode.dev/blog/defensive-programming/","status":"closed","priority":3,"issue_type":"chore","created_at":"2025-12-05T23:19:16.827843367-05:00","updated_at":"2025-12-05T23:39:46.897919867-05:00","closed_at":"2025-12-05T23:39:46.897919867-05:00"}
{"id":"yam-f6m","title":"Remove unused anyhow dependency from yammer-core","description":"The anyhow dependency is listed in yammer-core/Cargo.toml but is not used in any source file.\nyammer-core uses thiserror for its error types, not anyhow.\n\n## Verification\ngrep -r \"anyhow\" yammer-core/src/ returns no results\n\n## Action\nRemove from Cargo.toml:\n- anyhow.workspace = true\n\n## Impact\n- Smaller dependency tree\n- Faster compile times\n- No functionality change","status":"closed","priority":3,"issue_type":"chore","created_at":"2025-12-07T11:12:46.509676096-05:00","updated_at":"2025-12-07T11:19:30.667909649-05:00","closed_at":"2025-12-07T11:19:30.667909649-05:00","comments":[{"id":26,"issue_id":"yam-f6m","author":"andy","text":"Commit 3ebbac3: Removed anyhow.workspace = true from yammer-core/Cargo.toml","created_at":"2025-12-07T16:19:21Z"}]}
{"id":"yam-f8a","title":"Fix: Tauri drag region blocked by child elements","description":"## Problem\nThe Tauri window was not draggable because child elements (canvas, text spans, divs) were capturing pointer events and blocking the data-tauri-drag-region attribute on the parent container.\n\n## Solution\nAdded data-tauri-drag-region attribute to all child elements within the app-container.\n\n## Root Cause\nTauri's drag functionality requires the attribute on every element in the drag chain. Child elements without the attribute block drag events from reaching the window manager.\n\n## Alternative Approaches to Explore\n1. Use pointer-events: none on children with selective re-enabling for interactive elements\n2. Create a dedicated title bar area that's always draggable\n3. Use a transparent overlay div specifically for dragging\n\n## Related\n- Tauri drag region docs: https://tauri.app/v1/guides/features/window-customization/\n- This was fixed in commit for yam-c81.5.1 follow-up","status":"closed","priority":0,"issue_type":"bug","created_at":"2025-12-04T18:37:24.987352792-05:00","updated_at":"2025-12-05T16:27:42.006547016-05:00","closed_at":"2025-12-05T16:27:42.006547016-05:00","comments":[{"id":7,"issue_id":"yam-f8a","author":"andy","text":"## Testing Results\n\n**What Works:**\n✅ Waveform visualization - looks beautiful, animates correctly\n✅ State transitions via testStates() - all 6 states work perfectly\n✅ Window transparency, rounded corners, always-on-top\n✅ Status indicators with proper colors and animations\n\n**What Doesn't Work:**\n❌ Window dragging still not functional\n\n## Attempts Made:\n1. Added data-tauri-drag-region to all child elements - didn't work\n2. Used pointer-events: none on child containers - didn't work\n\n## Status:\nDeferred for later investigation. UI is fully functional except for drag capability.\n\n## Next Investigation Ideas:\n- Check if Tauri v2 has different drag region requirements\n- Try creating dedicated transparent title bar area\n- Check if X11/compositor configuration affects drag\n- Review Tauri docs for Linux-specific drag behavior\n- Consider alternative: use keyboard shortcut to reposition window","created_at":"2025-12-04T23:41:29Z"}]}
{"id":"yam-fhy","title":"Analyze codebase for clarity improvements","description":"Systematic analysis of the yammer codebase to identify opportunities for improved clarity in code, flow, and documentation.\n\n## Scope\nReview all crates for:\n\n### Code Clarity\n- Unclear variable/function names that don't convey intent\n- Complex conditionals that could be simplified or extracted\n- Implicit behavior that should be explicit\n- Missing or misleading comments\n- Inconsistent patterns across similar code paths\n- Magic numbers or strings that should be named constants\n\n### Flow Clarity\n- Control flow that's hard to follow\n- State machines with unclear transitions\n- Error handling that obscures the happy path\n- Callback/async patterns that are hard to trace\n- Lock acquisition order that's not obvious\n\n### Documentation Clarity\n- Missing module-level docs explaining purpose\n- Public APIs without doc comments\n- Complex algorithms without explanation\n- Non-obvious design decisions without rationale\n- Outdated comments that no longer match code\n\n## Deliverables\n- List of specific clarity issues found with file:line references\n- Prioritized by impact (how much confusion each causes)\n- Suggested improvements for each issue\n- Create follow-up tickets for significant improvements\n\n## Constraints\n- DO NOT add features\n- DO NOT refactor for refactoring's sake\n- Focus only on making existing code easier to understand","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-07T10:30:54.591770962-05:00","updated_at":"2025-12-07T11:09:54.255877682-05:00","closed_at":"2025-12-07T11:09:54.255877682-05:00","comments":[{"id":17,"issue_id":"yam-fhy","author":"andy","text":"Starting analysis. Read all source files across 7 crates: yammer-core (5 files), yammer-audio (4 files), yammer-stt (2 files), yammer-llm (2 files), yammer-output (1 file), yammer-cli (1 file), yammer-app (3 files).","created_at":"2025-12-07T16:08:29Z"},{"id":18,"issue_id":"yam-fhy","author":"andy","text":"## Clarity Analysis Complete\n\nOverall assessment: The codebase is well-documented with good module-level docs, clear error types, and reasonable naming conventions. Most files have excellent clarity. Found a few areas for improvement.\n\n### High Priority Issues\n\n1. **yammer-audio/src/capture.rs:332-455** - `start_capture` I16 closure shadow bug\n   - The F32 and I16 branches both create closures that capture `buffer` and `is_running`, but:\n     - For F32: Uses `buffer_clone`, `is_running_clone`  \n     - For I16: Uses `buffer`, `is_running` directly (shadows outer references)\n   - This works due to move semantics but is confusing. The I16 branch silently relies on outer scope variables being moved.\n   - The `is_running_for_handle` at line 447 is created separately from `is_running_clone` used in F32 callback - unclear why they're different variables.\n   - Impact: Medium (code works but confusing maintenance risk)\n\n2. **yammer-core/src/config.rs:321** - Unused parameter `_window_height`\n   - `validated_window_position` takes `_window_height` but never uses it\n   - Not clear if this is intentional (future use) or oversight\n   - Impact: Low (minor confusion)\n\n### Medium Priority Issues\n\n3. **yammer-audio/src/vad.rs:145** - Magic number in state transition\n   - `speech_start_frames + 1` - why +1? No comment explaining hysteresis logic\n   - Impact: Low (algorithm works but rationale unclear)\n\n4. **yammer-stt/src/transcriber.rs:60-89** - `HALLUCINATION_PATTERNS` inconsistent formatting\n   - Some entries have comments, some don't\n   - Some are single words (\"you\", \"Bye.\"), some are phrases\n   - Grouping by category (silence markers, YouTube endings, fillers, foreign) would help\n   - Impact: Low (documentation clarity)\n\n5. **yammer-app/src-tauri/src/lib.rs:395-433** - Duplicated window-show logic\n   - Single-instance handler and hotkey handler have nearly identical code for showing hidden windows\n   - Could be extracted to helper function for clarity\n   - Impact: Low (duplication but not severe)\n\n6. **yammer-cli/src/main.rs:734-758** - `DictateState` undocumented enum\n   - No doc comments explaining what each state means\n   - `color_code` returns ANSI codes without explanation\n   - Impact: Low\n\n### Flow Clarity Issues\n\n7. **yammer-app/src-tauri/src/pipeline.rs:294-391** - Complex control flow in `run_blocking`\n   - Many interleaved is_discarded checks\n   - Early returns with different states (Error vs Idle vs Discarded)\n   - Comment at line 329-330 explains why cancel is reset, but flow still hard to follow\n   - Suggest: Extract state transition logic or add flow diagram comment\n   - Impact: Medium (hard to reason about all exit paths)\n\n### Documentation Gaps\n\n8. **yammer-core/src/download.rs:236-249** - SHA256 comparison logic unclear\n   - `actual_sha.starts_with(expected) \u0026\u0026 !expected.starts_with(\u0026actual_sha)` - why bidirectional prefix check?\n   - Likely for partial hash comparison but not documented\n   - Impact: Low\n\n9. **yammer-llm/src/corrector.rs:58-68** - Prompt format not documented\n   - `CORRECTION_PROMPT` and `CORRECTION_SUFFIX` have no doc comment explaining the few-shot format\n   - Impact: Low\n\n### Positive Notes\n- All crates have good module-level documentation (//!)\n- Error types are well-defined with thiserror\n- Config struct has excellent doc comments on each field\n- Test coverage provides implicit documentation of expected behavior","created_at":"2025-12-07T16:09:00Z"},{"id":19,"issue_id":"yam-fhy","author":"andy","text":"Created follow-up tickets for significant issues:\n- yam-pn1: Fix variable shadowing in audio capture I16 branch (P2)\n- yam-yx0: Add flow diagram comment to pipeline run_blocking (P3)\n- yam-6fw: Remove unused _window_height parameter (P3)","created_at":"2025-12-07T16:09:43Z"}]}
{"id":"yam-fhz","title":"Update config.rs: whisper field -\u003e stt, stt_model_repo()","status":"closed","priority":1,"issue_type":"task","owner":"andynu@gmail.com","created_at":"2026-02-17T18:16:52.274702386-05:00","created_by":"Andy","updated_at":"2026-02-17T18:33:46.448179274-05:00","closed_at":"2026-02-17T18:33:46.448179274-05:00","close_reason":"Closed"}
{"id":"yam-fpb","title":"Improve dictation stop feedback and logging","description":"When clicking the microphone button a second time to stop recording:\n1. Button doesn't visually change from recording state\n2. Status doesn't update from 'listening' to 'processing'\n3. No logs after 'Stop dictation command received'\n4. Unclear if recording actually stopped and was processed\n\nNeed better visual feedback and logging throughout the stop/process/correct flow.","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-12-05T22:56:17.683573383-05:00","updated_at":"2025-12-05T22:58:57.009304888-05:00","closed_at":"2025-12-05T22:58:57.009304888-05:00"}
{"id":"yam-fw2","title":"GUI: Click transcript text to copy to clipboard","description":"Allow clicking on the transcript text area to copy the current transcription to clipboard. Should show visual feedback (e.g., brief flash or tooltip) when copied.","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-05T18:52:58.627662569-05:00","updated_at":"2025-12-05T18:54:19.641619992-05:00","closed_at":"2025-12-05T18:54:19.641619992-05:00"}
{"id":"yam-hql","title":"Window doesn't show when toggled after being dismissed","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-12-06T13:32:43.069397212-05:00","updated_at":"2025-12-06T13:39:25.796965279-05:00","closed_at":"2025-12-06T13:39:25.796965279-05:00"}
{"id":"yam-hwy","title":"Add audio feedback sounds for recording start/stop","description":"Play notification sounds when:\n1. Recording becomes ready to hear the speaker (hotkey pressed)\n2. User indicates they're finished speaking (Enter pressed)\n\nThis provides clear audio feedback about the dictation state changes.","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-05T18:42:16.784340184-05:00","updated_at":"2025-12-05T18:52:36.785480975-05:00","closed_at":"2025-12-05T18:52:36.785480975-05:00"}
{"id":"yam-hxv","title":"press-hold to talk, release to paste","description":"We need to adopt the same ux as the tools i'm using in windows and macos. I know that linux is possibly more difficult in this regard, but it is of utmost importance that we get this to a keyboard shortcut that I can quickly hit, hold, talk, and release. our current keypress to start, keypress to stop (esp with it being to keys that are far apart ctrl-h, is too much friction). I really want to use the ctrl+start keys.","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-13T11:00:49.476557473-05:00","created_by":"andy","updated_at":"2026-01-13T11:02:00.222973321-05:00","closed_at":"2026-01-13T11:02:00.22297594-05:00"}
{"id":"yam-i5z","title":"Pad short audio segments to meet Whisper minimum","description":"When VAD detects speech end but audio is \u003c1000ms, Whisper rejects it with 'input is too short'. Should pad short audio with silence to meet minimum duration.","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-12-05T16:45:34.051737651-05:00","updated_at":"2025-12-05T16:53:49.710673491-05:00","closed_at":"2025-12-05T16:53:49.710673491-05:00"}
{"id":"yam-ijc","title":"Install clang and libclang-dev for llama_cpp build","description":"llama_cpp_sys requires clang/libclang for bindgen to generate Rust bindings from C headers. Missing stdbool.h suggests libclang-dev is not installed.\n\nRequired packages (Ubuntu):\n```\nsudo apt install clang libclang-dev\n```\n\nError encountered:\n```\nfatal error: 'stdbool.h' file not found\nUnable to generate bindings: ClangDiagnostic\n```","status":"closed","priority":0,"issue_type":"chore","created_at":"2025-12-03T13:54:56.780423151-05:00","updated_at":"2025-12-04T18:52:22.805100292-05:00","closed_at":"2025-12-04T18:52:22.805100292-05:00","comments":[{"id":6,"issue_id":"yam-ijc","author":"andy","text":"This is a critical blocker for all remaining work. User needs to run:\n  sudo apt install clang libclang-dev\n\nOnce installed, the following will become unblocked:\n- yam-c81.4.1: Integrate llama_cpp-rs (directly blocked)\n- yam-c81.4: Phase 4 LLM epic (blocked via 4.1)\n- yam-c81.6: Phase 6 Integration epic (blocked via Phase 4)\n- All Phase 6 subtasks (hotkey, text output, full pipeline)","created_at":"2025-12-04T23:31:31Z"},{"id":8,"issue_id":"yam-ijc","author":"andy","text":"User has hit this blocker when attempting to run 'cargo run --bin yammer list-models'.\n\nError encountered:\n\n\nWorkaround provided:\n- Build without LLM: cargo build --workspace --exclude yammer-llm\n- Use: cargo run -p yammer-cli \u003ccommand\u003e\n\nUser needs to install clang to proceed with LLM testing:\nsudo apt install clang libclang-dev","created_at":"2025-12-04T23:48:47Z"}]}
{"id":"yam-ivr","title":"Click and hold spectrograph to record","description":"Add press-and-hold interaction on waveform/spectrograph area. Recording should start when user presses down on the waveform area and stop when released. Currently it's just click-to-toggle. This provides more intuitive push-to-talk behavior. Acceptance: - Mousedown on waveform starts recording - Mouseup on waveform stops recording - Works alongside existing click-to-toggle (short click) behavior","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-05T20:35:57.779109125-05:00","updated_at":"2025-12-05T21:05:34.041517683-05:00","closed_at":"2025-12-05T21:05:34.041517683-05:00"}
{"id":"yam-kdy","title":"Remove unused yammer-core dependencies from yammer-stt and yammer-llm","description":"Both yammer-stt and yammer-llm list yammer-core as a dependency but neither uses it.\n\n## Verification\ngrep -r \"yammer_core\" yammer-stt/src/ returns no results\ngrep -r \"yammer_core\" yammer-llm/src/ returns no results\n\n## Action\nRemove from yammer-stt/Cargo.toml:\n- yammer-core = { path = \"../yammer-core\" }\n\nRemove from yammer-llm/Cargo.toml:\n- yammer-core = { path = \"../yammer-core\" }\n\n## Impact\n- Cleaner dependency graph\n- Faster incremental builds\n- No functionality change (these crates define their own error types)","status":"closed","priority":3,"issue_type":"chore","created_at":"2025-12-07T11:12:51.667281571-05:00","updated_at":"2025-12-07T11:21:59.286450532-05:00","closed_at":"2025-12-07T11:21:59.286450532-05:00","comments":[{"id":27,"issue_id":"yam-kdy","author":"andy","text":"Commit f956507: Removed yammer-core dependency from both yammer-stt/Cargo.toml and yammer-llm/Cargo.toml. Both crates verified to compile.","created_at":"2025-12-07T16:21:50Z"}]}
{"id":"yam-lqu","title":"GUI: Change hotkey from Ctrl+Alt+D (conflicts with show desktop)","description":"Ctrl+Alt+D on some systems triggers 'show desktop'. Need to choose a different default hotkey or make it configurable.","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-12-05T18:02:44.612688187-05:00","updated_at":"2025-12-05T18:35:45.827610946-05:00","closed_at":"2025-12-05T18:35:45.827610946-05:00"}
{"id":"yam-m84","title":"investigate performance","description":"as a tool meant to be used inline the time from keypress to listening and from listening to pasting is all critical, I think we are front loading the loading of the llm, we should be doing the same to whisper so it is hot and ready to go when they invoke the command. we should do everything we can to evaluate the time from key-press to paste and try to speed up the responsiveness","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-06T21:30:13.595791136-05:00","updated_at":"2025-12-06T21:33:41.396302126-05:00","closed_at":"2025-12-06T21:33:41.396302126-05:00","dependencies":[{"issue_id":"yam-m84","depends_on_id":"yam-sfx","type":"blocks","created_at":"2025-12-06T21:32:25.255050879-05:00","created_by":"andy","metadata":"{}"},{"issue_id":"yam-m84","depends_on_id":"yam-cx6","type":"blocks","created_at":"2025-12-06T21:32:49.312509172-05:00","created_by":"andy","metadata":"{}"},{"issue_id":"yam-m84","depends_on_id":"yam-8vy","type":"blocks","created_at":"2025-12-06T21:33:15.854658977-05:00","created_by":"andy","metadata":"{}"}],"comments":[{"id":15,"issue_id":"yam-m84","author":"andy","text":"Performance investigation findings:\n\n**Current state:**\n- Models (Whisper + LLM) are already pre-loaded on app startup ✓\n- Audio capture is created fresh on each dictation request\n- Multiple lock acquisitions in start_dictation\n- xdotool type delay adds 12ms/character\n\n**Identified bottlenecks (in order of impact):**\n\n1. **Audio capture initialization (yam-sfx)** - P2\n   Each dictation creates new AudioCapture, calling cpal device enumeration and stream config. This is likely 50-200ms overhead.\n\n2. **xdotool type delay (yam-8vy)** - P3\n   12ms/char delay means 100 chars takes 1.2s. Should be configurable or use clipboard for long text.\n\n3. **Lock contention (yam-cx6)** - P3\n   4 sequential lock acquisitions. Microsecond overhead but adds up.\n\n**Recommended priority:**\n1. yam-sfx - Pre-init audio (biggest keypress-to-listening win)\n2. yam-8vy - Type delay config (biggest processing-to-paste win)\n3. yam-cx6 - Lock optimization (minor improvement)","created_at":"2025-12-07T02:33:31Z"}]}
{"id":"yam-mg0","title":"Watch for Voxtral llama.cpp port or quantized variants","description":"Voxtral Realtime (4B) was evaluated in ADR-001 and rejected due to 16GB VRAM requirement and vLLM-only runtime. Revisit if: (1) llama.cpp port becomes available, (2) quantized versions drop VRAM to 8GB, (3) smaller streaming variant released. Check HuggingFace and llama.cpp periodically.","status":"open","priority":4,"issue_type":"chore","owner":"andynu@gmail.com","created_at":"2026-02-04T12:43:49.348057361-05:00","created_by":"Andy","updated_at":"2026-02-04T12:43:58.767545244-05:00"}
{"id":"yam-nfe","title":"Fix runtime panic in transcribe command (same block_on issue)","description":"Same runtime panic as yam-2yt but in transcribe_file() at line 503. Fixed with same approach: manual loop with .await instead of .find() closure with block_on().","status":"closed","priority":0,"issue_type":"bug","created_at":"2025-12-04T19:13:03.188505383-05:00","updated_at":"2025-12-04T19:13:21.580360145-05:00","closed_at":"2025-12-04T19:13:21.580360145-05:00"}
{"id":"yam-nkr","title":"Remove Whisper model entries from download registry (dead code)","description":"ModelType::Whisper, get_model_registry() Whisper entries, get_default_models() whisper-base.en, and find_downloaded_model(ModelType::Whisper) in CLI are all dead code now that STT uses Kyutai via hf-hub. The download infrastructure should only contain LLM models.","status":"open","priority":4,"issue_type":"chore","owner":"andynu@gmail.com","created_at":"2026-02-17T18:45:11.153795299-05:00","created_by":"Andy","updated_at":"2026-02-17T18:45:11.153795299-05:00"}
{"id":"yam-nuv","title":"Pipeline: merge listen+transcribe into listen_and_transcribe_blocking","status":"closed","priority":1,"issue_type":"task","owner":"andynu@gmail.com","created_at":"2026-02-17T18:16:58.420220562-05:00","created_by":"Andy","updated_at":"2026-02-17T18:33:46.453652136-05:00","closed_at":"2026-02-17T18:33:46.453652136-05:00","close_reason":"Closed"}
{"id":"yam-o8p","title":"Add clear record toggle button to UI","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-12-05T21:19:02.08672984-05:00","updated_at":"2025-12-05T21:23:27.350005329-05:00","closed_at":"2025-12-05T21:23:27.350005329-05:00"}
{"id":"yam-ofb","title":"Preload LLM at startup, block recording until ready","description":"Load the LLM model into memory immediately on app launch. Disable recording button until initialization is complete to prevent audio and model loading from competing for resources.","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-12-05T21:28:08.334204405-05:00","updated_at":"2025-12-05T21:38:58.816245203-05:00","closed_at":"2025-12-05T21:38:58.816245203-05:00"}
{"id":"yam-pn1","title":"Fix confusing variable shadowing in audio capture I16 branch","description":"In yammer-audio/src/capture.rs:332-455, the start_capture function has confusing variable shadowing between F32 and I16 branches.\n\n## Problem\n- F32 branch: Uses explicitly named clones (buffer_clone, is_running_clone)\n- I16 branch: Uses original names (buffer, is_running) via implicit move\n- Line 447: Creates is_running_for_handle separately from is_running_clone\n\nThe code works but is confusing to maintain.\n\n## Suggested Fix\n- Use consistent naming across both branches\n- Add comments explaining the move semantics\n- Consider extracting common callback logic\n\n## Files\n- yammer-audio/src/capture.rs:332-455","status":"closed","priority":2,"issue_type":"chore","created_at":"2025-12-07T11:09:17.101309819-05:00","updated_at":"2025-12-07T11:16:16.988327888-05:00","closed_at":"2025-12-07T11:16:16.988327888-05:00","comments":[{"id":23,"issue_id":"yam-pn1","author":"andy","text":"Commit d18e9a3: Fixed disconnected CaptureHandle is_running flag. The handle was creating a new AtomicBool instead of sharing the one used by callbacks. Also renamed variables for clarity (buffer_f32, tx_f32, is_running_f32, callback_f32, callback_i16).","created_at":"2025-12-07T16:16:06Z"}]}
{"id":"yam-pqz","title":"Clean up stale Whisper references in CLI and doc comments","status":"closed","priority":3,"issue_type":"chore","owner":"andynu@gmail.com","created_at":"2026-02-17T18:42:41.919972297-05:00","created_by":"Andy","updated_at":"2026-02-17T18:45:08.418609446-05:00","closed_at":"2026-02-17T18:45:08.418609446-05:00","close_reason":"Updated stale Whisper refs in resample.rs doc comment, CLI record help text, and GPU info VRAM estimates"}
{"id":"yam-q6c","title":"Add tests for Tauri command handlers","description":"yammer-app/src-tauri/src/lib.rs has no tests for Tauri commands:\n- initialize_pipeline\n- start_dictation / stop_dictation / toggle_dictation\n- check_models\n- Window position save/restore\n\nNeed to set up Tauri test harness or extract testable logic.","status":"closed","priority":3,"issue_type":"chore","created_at":"2025-12-06T20:22:50.200109753-05:00","updated_at":"2025-12-06T21:44:09.550150611-05:00","closed_at":"2025-12-06T21:44:09.550150611-05:00"}
{"id":"yam-rbm","title":"Refactor hashes_cmd to use enum instead of multiple boolean parameters","description":"In yammer-cli/src/main.rs:1155, hashes_cmd has confusing boolean parameters:\n```rust\nfn hashes_cmd(clear: bool, clear_model: Option\u003cString\u003e, show_path: bool) -\u003e Result\u003c()\u003e\n```\n\nFix: Create an enum for the hashes action:\n```rust\nenum HashesAction {\n    List { show_path: bool },\n    Clear,\n    ClearModel(String),\n}\n\nfn hashes_cmd(action: HashesAction) -\u003e Result\u003c()\u003e\n```\n\nReference: https://corrode.dev/blog/defensive-programming/","status":"closed","priority":3,"issue_type":"chore","created_at":"2025-12-05T23:19:38.022845672-05:00","updated_at":"2025-12-05T23:42:33.124632796-05:00","closed_at":"2025-12-05T23:42:33.124632796-05:00"}
{"id":"yam-reb","title":"X button doesn't hide window to tray","description":"## Bug\nThe X (close) button on the window should hide the window to the system tray instead of quitting the app. Currently it appears to not be working as expected.\n\n## Expected Behavior\n- Pressing X or Escape should hide the window to the system tray\n- The app should remain running in the background\n- The user can show the window again via tray icon or hotkey\n\n## Current Behavior\nThe X button is not hiding the window as intended.\n\n## Possibly Related\nThis may be related to the decorations:false setting in tauri.conf.json - the custom X button handling in the frontend may not be working properly.","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-12-06T00:04:59.536702761-05:00","updated_at":"2025-12-06T00:27:18.782512433-05:00","closed_at":"2025-12-06T00:27:18.782512433-05:00"}
{"id":"yam-sfx","title":"Pre-initialize AudioCapture to reduce keypress-to-listening latency","description":"Currently AudioCapture is created fresh on each dictation request in listen_blocking(). This adds latency from:\n1. Device enumeration via cpal\n2. Stream configuration negotiation  \n3. Buffer allocation\n\nShould pre-initialize AudioCapture during pipeline initialization and keep it ready. The capture handle can be started/stopped without recreating the device connection.\n\nKey changes needed:\n- Add audio_capture field to DictationPipeline\n- Initialize it in DictationPipeline::initialize()\n- Only call start_capture() in listen_blocking(), not device init\n- Handle device reconnection gracefully if device becomes unavailable","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-06T21:32:15.256689867-05:00","updated_at":"2025-12-06T21:41:36.113380896-05:00","closed_at":"2025-12-06T21:41:36.113380896-05:00"}
{"id":"yam-syv","title":"GUI: Click waveform to start/stop dictation","description":"Allow clicking on the waveform area to toggle dictation, in addition to the hotkey.","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-05T18:02:39.425068683-05:00","updated_at":"2025-12-05T18:50:53.918983266-05:00","closed_at":"2025-12-05T18:50:53.918983266-05:00"}
{"id":"yam-tln","title":"Replace catch-all match on ModelStatus with exhaustive pattern","description":"In yammer-cli/src/main.rs:322, the match on ModelStatus uses a catch-all `_ =\u003e` that silently treats NotDownloaded, Downloading, and Failed all as 'needs download'. If new variants are added to ModelStatus, they won't trigger compiler warnings.\n\nFix: Replace with exhaustive match:\n```rust\nmatch manager.check_status(model).await {\n    ModelStatus::Ready { path } =\u003e { already_downloaded.push((model, path)); }\n    ModelStatus::NotDownloaded =\u003e { to_download.push(model); }\n    ModelStatus::Downloading { .. } =\u003e { to_download.push(model); } // or handle differently?\n    ModelStatus::Failed { error } =\u003e { /* log error? */ to_download.push(model); }\n}\n```\n\nReference: https://corrode.dev/blog/defensive-programming/","status":"closed","priority":2,"issue_type":"chore","created_at":"2025-12-05T23:19:01.22232832-05:00","updated_at":"2025-12-05T23:37:32.505394432-05:00","closed_at":"2025-12-05T23:37:32.505394432-05:00"}
{"id":"yam-tzd","title":"GUI: Global hotkey only works when window focused","description":"Ctrl+Alt+D hotkey should work globally but only triggers when the Yammer window is focused. The global shortcut registration may be failing silently or another app has it.","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-12-05T18:02:32.90273908-05:00","updated_at":"2025-12-05T18:35:58.948170633-05:00","closed_at":"2025-12-05T18:35:58.948170633-05:00"}
{"id":"yam-u2e","title":"Re-download corrupted qwen2-1.5b model","description":"Model file exists but is corrupted (941MB vs expected 972MB). Missing 'output.weight' tensor. Need to delete and re-download. File: /home/andy/.local/share/yammer/models/qwen2-1_5b-instruct-q4_k_m.gguf","status":"closed","priority":0,"issue_type":"bug","created_at":"2025-12-04T19:18:02.119367742-05:00","updated_at":"2025-12-04T19:43:15.225558186-05:00","closed_at":"2025-12-04T19:43:15.225558186-05:00","comments":[{"id":9,"issue_id":"yam-u2e","author":"andy","text":"Model downloads consistently but has 'output.weight' tensor missing error. This is a known issue with Qwen models and tied word embeddings - see https://github.com/QwenLM/Qwen2.5/issues/255. Switching to Phi-3-Mini which has better llama.cpp compatibility.","created_at":"2025-12-05T00:21:16Z"},{"id":10,"issue_id":"yam-u2e","author":"andy","text":"Phi-3 also incompatible: llama.cpp 0.3 doesn't support phi3 architecture. Error: 'unknown model architecture: phi3'. Trying Gemma 2 2B next.","created_at":"2025-12-05T00:32:14Z"},{"id":11,"issue_id":"yam-u2e","author":"andy","text":"Gemma2 also incompatible: 'unknown model architecture: gemma2'. llama_cpp Rust 0.3 appears to use older C++ backend that doesn't support: Qwen2, Phi-3, Gemma2. Need to find compatible model or upgrade llama_cpp binding.","created_at":"2025-12-05T00:37:06Z"}]}
{"id":"yam-uf0","title":"Write onboard guide for yammer-llm crate","description":"Create a comprehensive onboarding guide for developers new to the yammer-llm crate.\n\n## Target Audience\n- Developers with Rust experience but no background in:\n  - Large Language Models (LLMs)\n  - Text correction/refinement use cases\n  - GGUF model format and quantization\n  - llama.cpp and local inference\n\n## Guide Structure\n\n### 1. Conceptual Background\n- What are LLMs and how they work (transformers, attention, tokens)\n- Why use LLMs for text correction vs traditional spell checkers\n- Understanding model sizes and capabilities\n- Quantization: what it is, why it matters (Q4, Q5, Q8)\n- Prompt engineering basics for text correction\n\n### 2. Library Choices and Rationale\n- Why llama-cpp-rs (Rust bindings for llama.cpp)\n- Why not other options (candle, transformers, cloud APIs)\n- llama.cpp advantages (CPU inference, quantization support, small models)\n- Model selection: TinyLlama, Phi-3, Gemma-2\n\n### 3. Architecture Overview\n- Corrector struct: model loading, generation\n- CorrectionResult: text and metadata\n- The correction prompt design (few-shot examples)\n- Temperature and sampling parameters\n\n### 4. Code Walkthrough\n- Model loading with context size and threads\n- Prompt construction with examples\n- Generation loop and sampling\n- Extracting corrected text from output\n- Error handling patterns\n\n### 5. Common Tasks\n- How to load different model sizes\n- How to customize the correction prompt\n- How to tune generation parameters\n- How to debug correction quality issues\n\n## Output\nA markdown document at yammer-llm/ONBOARDING.md that a new developer can read to understand the crate from concept to implementation.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-07T10:11:07.633206787-05:00","updated_at":"2025-12-07T10:37:53.269887832-05:00","closed_at":"2025-12-07T10:37:53.269887832-05:00","dependencies":[{"issue_id":"yam-uf0","depends_on_id":"yam-6ff","type":"blocks","created_at":"2025-12-07T10:11:16.084162122-05:00","created_by":"andy","metadata":"{}"}]}
{"id":"yam-urx","title":"Disable auto-hide when window is focused","description":"Currently the window auto-hides 2 seconds after successful dictation. If the window has focus (user is interacting with it), keep it visible instead of hiding.","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-06T15:01:55.695200394-05:00","updated_at":"2025-12-06T21:26:11.22634043-05:00","closed_at":"2025-12-06T21:26:11.22634043-05:00"}
{"id":"yam-uz5","title":"press-hold to talk, release to paste","description":"We need to adopt the same ux as the tools i'm using in windows and macos. I know that linux is possibly more difficult in this regard, but it is of utmost importance that we get this to a keyboard shortcut that I can quickly hit, hold, talk, and release. our current keypress to start, keypress to stop (esp with it being to keys that are far apart ctrl-h, is too much friction). I really want to use the ctrl+start keys.","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-13T11:00:37.182831859-05:00","created_by":"andy","updated_at":"2026-01-13T15:51:44.076026533-05:00","closed_at":"2026-01-13T15:51:44.076026533-05:00","close_reason":"Implemented Ctrl+Super press-hold-release hotkey for dictation. Uses rdev to track modifier-only key combinations (Ctrl+Super), enabling push-to-talk: hold to record, release to paste. This matches the Windows/macOS shortcuts for consistent cross-platform UX.","comments":[{"id":31,"issue_id":"yam-uz5","author":"andy","text":"KeyPress event, serial 38, synthetic NO, window 0x7e00001,\n    root 0x429, subw 0x0, time 88731289, (1217,918), root:(1283,987),\n    state 0x10, keycode 37 (keysym 0xffe3, Control_L), same_screen YES,\n    XLookupString gives 0 bytes:\n    XmbLookupString gives 0 bytes:\n    XFilterEvent returns: False\n\nKeyPress event, serial 38, synthetic NO, window 0x7e00001,\n    root 0x429, subw 0x0, time 88731411, (1217,918), root:(1283,987),\n    state 0x14, keycode 133 (keysym 0xffeb, Super_L), same_screen YES,\n    XLookupString gives 0 bytes:\n    XmbLookupString gives 0 bytes:\n    XFilterEvent returns: False\n\nKeyRelease event, serial 38, synthetic NO, window 0x7e00001,\n    root 0x429, subw 0x0, time 88731483, (1217,918), root:(1283,987),\n    state 0x54, keycode 133 (keysym 0xffeb, Super_L), same_screen YES,\n    XLookupString gives 0 bytes:\n    XFilterEvent returns: False\n\nKeyRelease event, serial 38, synthetic NO, window 0x7e00001,\n    root 0x429, subw 0x0, time 88731695, (1217,918), root:(1283,987),\n    state 0x14, keycode 37 (keysym 0xffe3, Control_L), same_screen YES,\n    XLookupString gives 0 bytes:\n    XFilterEvent returns: False\nThere is a usability issue here with having to press a multi-key invocation twice in order for this to work. I understand that there are some complications but we need to search harder to find a way so that I can press control start talk and the release control start and have it paste because that's the same mapping that I have in Windows and in Mac OS and I need to have the same thing everywhere so it's of utmost importance that we figure out how to deal with it.","created_at":"2026-01-13T16:02:32Z"},{"id":32,"issue_id":"yam-uz5","author":"andy","text":"KeyPress event, serial 38, synthetic NO, window 0x7e00001,\n    root 0x429, subw 0x0, time 88731289, (1217,918), root:(1283,987),\n    state 0x10, keycode 37 (keysym 0xffe3, Control_L), same_screen YES,\n    XLookupString gives 0 bytes:\n    XmbLookupString gives 0 bytes:\n    XFilterEvent returns: False\n\nKeyPress event, serial 38, synthetic NO, window 0x7e00001,\n    root 0x429, subw 0x0, time 88731411, (1217,918), root:(1283,987),\n    state 0x14, keycode 133 (keysym 0xffeb, Super_L), same_screen YES,\n    XLookupString gives 0 bytes:\n    XmbLookupString gives 0 bytes:\n    XFilterEvent returns: False\n\nKeyRelease event, serial 38, synthetic NO, window 0x7e00001,\n    root 0x429, subw 0x0, time 88731483, (1217,918), root:(1283,987),\n    state 0x54, keycode 133 (keysym 0xffeb, Super_L), same_screen YES,\n    XLookupString gives 0 bytes:\n    XFilterEvent returns: False\n\nKeyRelease event, serial 38, synthetic NO, window 0x7e00001,\n    root 0x429, subw 0x0, time 88731695, (1217,918), root:(1283,987),\n    state 0x14, keycode 37 (keysym 0xffe3, Control_L), same_screen YES,\n    XLookupString gives 0 bytes:\n    XFilterEvent returns: False\nThere is a usability issue here with having to press a multi-key invocation twice in order for this to work. I understand that there are some complications but we need to search harder to find a way so that I can press control start talk and the release control start and have it paste because that's the same mapping that I have in Windows and in Mac OS and I need to have the same thing everywhere so it's of utmost importance that we figure out how to deal with it.","created_at":"2026-01-13T16:02:37Z"},{"id":33,"issue_id":"yam-uz5","author":"andy","text":"KeyPress event, serial 38, synthetic NO, window 0x7e00001,\n    root 0x429, subw 0x0, time 88731289, (1217,918), root:(1283,987),\n    state 0x10, keycode 37 (keysym 0xffe3, Control_L), same_screen YES,\n    XLookupString gives 0 bytes:\n    XmbLookupString gives 0 bytes:\n    XFilterEvent returns: False\n\nKeyPress event, serial 38, synthetic NO, window 0x7e00001,\n    root 0x429, subw 0x0, time 88731411, (1217,918), root:(1283,987),\n    state 0x14, keycode 133 (keysym 0xffeb, Super_L), same_screen YES,\n    XLookupString gives 0 bytes:\n    XmbLookupString gives 0 bytes:\n    XFilterEvent returns: False\n\nKeyRelease event, serial 38, synthetic NO, window 0x7e00001,\n    root 0x429, subw 0x0, time 88731483, (1217,918), root:(1283,987),\n    state 0x54, keycode 133 (keysym 0xffeb, Super_L), same_screen YES,\n    XLookupString gives 0 bytes:\n    XFilterEvent returns: False\n\nKeyRelease event, serial 38, synthetic NO, window 0x7e00001,\n    root 0x429, subw 0x0, time 88731695, (1217,918), root:(1283,987),\n    state 0x14, keycode 37 (keysym 0xffe3, Control_L), same_screen YES,\n    XLookupString gives 0 bytes:\n    XFilterEvent returns: False\nThere is a usability issue here with having to press a multi-key invocation twice in order for this to work. I understand that there are some complications but we need to search harder to find a way so that I can press control start talk and the release control start and have it paste because that's the same mapping that I have in Windows and in Mac OS and I need to have the same thing everywhere so it's of utmost importance that we figure out how to deal with it.","created_at":"2026-01-13T16:02:42Z"},{"id":34,"issue_id":"yam-uz5","author":"andy","text":"Commit 1e55c3f: Implemented Ctrl+Super press-hold-release hotkey using rdev for low-level keyboard events","created_at":"2026-01-13T20:51:33Z"}]}
{"id":"yam-v38","title":"GUI window position not persisted across launches","description":"Window always starts in upper left corner despite position save/restore logic in main.js (loadWindowPosition/saveWindowPosition). Config has gui.window_x/window_y fields. Either positions aren't being saved on drag, or aren't being loaded on startup. Check: config file after dragging, Tauri setPosition call, timing of loadWindowPosition vs window ready.","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-12-05T19:58:04.35821446-05:00","updated_at":"2025-12-05T21:03:21.374763984-05:00","closed_at":"2025-12-05T21:03:21.374763984-05:00"}
{"id":"yam-v3z","title":"Add resample_to_kyutai (24kHz) to yammer-audio","status":"closed","priority":1,"issue_type":"task","owner":"andynu@gmail.com","created_at":"2026-02-17T18:15:50.324775204-05:00","created_by":"Andy","updated_at":"2026-02-17T18:33:46.435921489-05:00","closed_at":"2026-02-17T18:33:46.435921489-05:00","close_reason":"Closed"}
{"id":"yam-w28","title":"Verify frontend handles transcripts during listening state","status":"closed","priority":2,"issue_type":"task","owner":"andynu@gmail.com","created_at":"2026-02-17T18:42:42.560630151-05:00","created_by":"Andy","updated_at":"2026-02-17T18:43:24.927682392-05:00","closed_at":"2026-02-17T18:43:24.927682392-05:00","close_reason":"Frontend already handles transcripts during listening state correctly - no changes needed"}
{"id":"yam-wz6","title":"Improve model checksum verification","description":"## Problem\nCurrently checksums are hardcoded in the model registry. This is brittle - when HuggingFace updates models, downloads fail with checksum mismatches.\n\n## Better Approaches\n\n### Option 1: Fetch from Server\nHuggingFace provides SHA256 via API or file metadata:\n```\nGET https://huggingface.co/api/models/ggerganov/whisper.cpp/tree/main\n```\nParse response to get file hash.\n\n### Option 2: Store After First Download\nOn first successful download, save SHA256 to local config:\n```json\n{\n  \"verified_models\": {\n    \"whisper-tiny.en\": \"abc123...\"\n  }\n}\n```\nUse for future verification.\n\n### Option 3: Optional Verification\nMake checksums optional in registry. Only verify if provided.\nLog actual hash for manual verification.\n\n### Option 4: Trust HTTPS\nSkip checksums entirely, rely on HTTPS transport security.\nSimplest but least secure.\n\n## Recommendation\nOption 2 (store after download) is best balance:\n- No server dependency\n- Verifies subsequent downloads\n- User can inspect logs on first download\n\n## Implementation\n1. Add `~/.cache/yammer/verified_hashes.json`\n2. On first download: compute hash, save to file, log for user\n3. On subsequent downloads: verify against saved hash\n4. Command to clear/reset verified hashes","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-04T19:01:34.376948355-05:00","updated_at":"2025-12-05T16:37:56.564281403-05:00","closed_at":"2025-12-05T16:37:56.564281403-05:00"}
{"id":"yam-xre","title":"test audit","description":"you are an independent auditor, tasked with checking the tests in this application and ensuring that they are meaningful and are not cheating or short-cutting the meaning and spirit of testing which is to ensure the correct function of the application","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-06T21:32:07.662406504-05:00","updated_at":"2025-12-06T21:36:42.623444387-05:00","closed_at":"2025-12-06T21:36:42.623444387-05:00","comments":[{"id":16,"issue_id":"yam-xre","author":"andy","text":"**Test Audit Complete**\n\n**Summary by module:**\n\n| Module | Tests | Status |\n|--------|-------|--------|\n| yammer-audio/vad.rs | 3 | ✅ Meaningful (RMS calc, state transitions, events) |\n| yammer-audio/resample.rs | 3 | ✅ Meaningful (48k, 44.1k, passthrough) |\n| yammer-audio/capture.rs | 8 | ✅ Meaningful (errors, structs, WAV roundtrip) |\n| yammer-stt/transcriber.rs | 5 | ✅ Meaningful (hallucination filtering with negative tests) |\n| yammer-core/config.rs | 4 | ✅ Meaningful (defaults, paths, TOML roundtrip) |\n| yammer-core/download.rs | 2 | ✅ Meaningful (byte formatting, hash storage) |\n| yammer-llm/corrector.rs | 3 | ✅ Meaningful (prompt building variants) |\n| yammer-output/lib.rs | 11 | ✅ Meaningful (errors, struct traits, empty text) |\n| yammer-app/pipeline.rs | 9 | ✅ Meaningful (state, config, events, errors) |\n\n**Total: 48 tests (44 active, 4 ignored integration tests)**\n\n**Key observations:**\n1. All tests have meaningful assertions - no empty tests or tests that just \"pass\"\n2. Good use of negative tests (testing what should NOT happen)\n3. Integration tests properly marked as #[ignore] when they require hardware\n4. No mocking shortcuts that bypass actual logic\n5. Edge cases covered (empty input, whitespace, case insensitivity)\n\n**Areas for improvement (not blocking):**\n- Missing tests for Tauri command handlers (yam-q6c already exists)\n- Could add more error path tests for network downloads\n- LLM corrector could use tests with actual model (integration test)","created_at":"2025-12-07T02:36:31Z"}]}
{"id":"yam-yd0","title":"Microphone click-to-toggle recording mode","description":"Change microphone button behavior from press-and-hold to click-to-toggle:\n1. First click: Start recording\n2. Second click: Stop recording, transcribe, and correct\n\nCurrent behavior requires holding the button. New behavior should be a simple toggle.","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-12-05T21:26:24.031341391-05:00","updated_at":"2025-12-05T21:35:28.164496102-05:00","closed_at":"2025-12-05T21:35:28.164496102-05:00"}
{"id":"yam-yr9","title":"Idle model unloading for memory conservation","status":"closed","priority":2,"issue_type":"feature","owner":"andynu@gmail.com","created_at":"2026-02-10T12:08:15.790889128-05:00","created_by":"Andy","updated_at":"2026-02-10T12:14:44.455188798-05:00","closed_at":"2026-02-10T12:14:44.455188798-05:00","close_reason":"Implemented idle model unloading"}
{"id":"yam-yx0","title":"Add flow diagram comment to pipeline run_blocking","description":"In yammer-app/src-tauri/src/pipeline.rs:294-391, the run_blocking function has complex control flow with many interleaved discard checks.\n\n## Problem\n- Multiple early returns with different states (Error vs Idle vs Discarded)\n- is_discarded checks at multiple points during execution\n- Hard to reason about all exit paths\n\n## Suggested Fix\nAdd an ASCII flow diagram comment at the top of run_blocking showing:\n- Normal flow: listen -\u003e transcribe -\u003e correct -\u003e output -\u003e Done\n- Discard path: Any stage -\u003e Discarded\n- Cancel path: listen -\u003e transcribe (uncorrected) -\u003e output -\u003e Done\n- Error path: Any stage -\u003e Error\n\n## Files\n- yammer-app/src-tauri/src/pipeline.rs:294-391","status":"closed","priority":3,"issue_type":"chore","created_at":"2025-12-07T11:09:22.262757368-05:00","updated_at":"2025-12-07T11:17:43.575999918-05:00","closed_at":"2025-12-07T11:17:43.575999918-05:00","comments":[{"id":24,"issue_id":"yam-yx0","author":"andy","text":"Commit 6069460: Added ASCII flow diagram documenting all execution paths in run_blocking, plus key behavior notes for cancel vs discard flags.","created_at":"2025-12-07T16:17:32Z"}]}
{"id":"yam-z6x","title":"CLI dictate: add visual feedback (audio meter, status indicator)","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-12-05T16:56:10.351600222-05:00","updated_at":"2025-12-05T16:58:52.82586478-05:00","closed_at":"2025-12-05T16:58:52.82586478-05:00"}
